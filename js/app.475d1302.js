(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/scsc/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0524":function(t,e,a){"use strict";a("2050")},"0f03":function(t,e,a){"use strict";a("6bcb")},1:function(t,e){},"1fc9":function(t,e,a){"use strict";a("6df4")},2:function(t,e){},2050:function(t,e,a){},"2cec":function(t,e,a){},"2e41":function(t,e,a){},3:function(t,e){},"460a":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"507e":function(t,e,a){t.exports=a.p+"img/qr.46937b5f.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app-body"}},[a("div",{attrs:{id:"vue-nav-bar"}},[t.$store.state.isAuthenticated?a("v-app-bar",{attrs:{color:"primary",app:""}},[a("v-toolbar-title",{staticClass:"white--text",attrs:{link:"",to:"/"}},[t._v("SCSC")]),a("v-spacer"),a("v-toolbar-items",[t.$store.state.isAdmin?t._e():a("v-btn",{attrs:{small:"",width:"80px",color:"primary "+(1==t.$store.state.scanMode?"lighten-2":""),dark:""},on:{click:t.toggleScanningMode}},[a("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-camera ")]),t._v(" Scan ")],1),t.$store.state.isAdmin?a("v-btn",{staticClass:"white--text",attrs:{small:"",color:"primary  ",to:"/transaction"}},[a("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-card-account-details-outline ")]),t._v(" Sales report ")],1):t._e(),t.$store.state.isAdmin?a("v-menu",{attrs:{"offset-y":"",rounded:"0"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{small:"",color:"primary  ",dark:""}},"v-btn",i,!1),s),[a("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-store ")]),t._v("Manage Store ")],1)]}}],null,!1,1098460292)},[a("v-list",{staticClass:"white--text",attrs:{color:"primary  "}},[a("v-list-item",{attrs:{link:"",to:"/inventory"}},[a("v-list-item-title",{staticClass:"white--text"},[t._v("Item")])],1),a("v-list-item",{attrs:{link:"",to:"/category"}},[a("v-list-item-title",{staticClass:"white--text"},[t._v("Category")])],1),a("v-list-item",{attrs:{link:"",to:"/customers"}},[a("v-list-item-title",{staticClass:"white--text"},[t._v("Customer")])],1)],1)],1):t._e(),a("v-menu",{attrs:{"offset-y":"",rounded:"0"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{small:"",color:"primary  ",dark:""}},"v-btn",i,!1),s),[a("v-icon",{attrs:{left:"",dark:""}},[t._v("mdi-account ")]),t._v(t._s(t.$store.state.username)+" ")],1)]}}],null,!1,1347755832)},[a("v-list",{staticClass:"white--text",attrs:{color:"primary  "}},[a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("SET_USER_PROFILE",null)}}},[a("v-list-item-title",{staticClass:"white--text"},[t._v("Profile")])],1),a("v-list-item",{attrs:{link:""},on:{click:function(e){return t.$store.commit("SET_CHANGE_PASSWORD",null)}}},[a("v-list-item-title",{staticClass:"white--text",on:{click:t.logout}},[t._v("Logout")])],1)],1)],1)],1)],1):t._e(),a("v-navigation-drawer",{attrs:{width:"33%",absolute:"",temporary:""},model:{value:t.$store.state.itemDialog,callback:function(e){t.$set(t.$store.state,"itemDialog",e)},expression:"$store.state.itemDialog"}},[a("ItemBoard")],1)],1),a("v-main",[a("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[a("router-view")],1)],1),t.$store.state.dialog?a("Dialog",{scopedSlots:t._u([{key:"dialogBody",fn:function(){return[a(t.$store.state.dialogViewName,{tag:"component"})]},proxy:!0}],null,!1,3550785139)}):t._e(),t.$store.state.scanDialog?a("ScanDialog"):t._e(),t.$store.state.userProfile?a("UserProfile"):t._e(),a("v-snackbar",{staticStyle:{"z-index":"999"},attrs:{timeout:"2000",color:t.$store.state.toastColor,absolute:"",top:"",right:"",app:"","min-height":"70",dark:"",prominent:"",transition:"slide-x-reverse-transition"},model:{value:t.$store.state.toast,callback:function(e){t.$set(t.$store.state,"toast",e)},expression:"$store.state.toast"}},[t._v(" "+t._s(t.$store.state.toastMsg)+" ")])],1)},r=[],n=a("5530"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"620px","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.$store.state.dialog,callback:function(e){t.$set(t.$store.state,"dialog",e)},expression:"$store.state.dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._t("title")],2),a("v-card-text",[t._t("dialogBody")],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-delete")}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("delete-item-confirm")}}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)},c=[],l={},d=l,u=a("2877"),m=a("6544"),v=a.n(m),f=a("8336"),h=a("b0af"),p=a("99d9"),g=a("169a"),b=a("0fd9"),_=a("2fa4"),C=Object(u["a"])(d,o,c,!1,null,null,null),x=C.exports;v()(C,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VDialog:g["a"],VRow:b["a"],VSpacer:_["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"1278px","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.$store.state.scanDialog,callback:function(e){t.$set(t.$store.state,"scanDialog",e)},expression:"$store.state.scanDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",height:"48",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.$store.commit("TOGGLE_SCAN_DIALOG")}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._t("dialogName")],2),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",text:""},on:{click:function(e){t.captured=!1}}},[t._v(" Clear ")])],1)],1),t.$store.state.scanDialog?a("v-text-field",{staticClass:"d-none",attrs:{label:"Label",autofocus:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.takePicture.apply(null,arguments)}}}):t._e(),a("v-card",{staticClass:"camera"},[a("video",{directives:[{name:"show",rawName:"v-show",value:!t.captured,expression:"!captured"}],staticClass:"feed",attrs:{autoplay:""}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:t.captured,expression:"captured"}],staticClass:"feed"}),a("v-btn",{staticClass:"mx-auto btn-capture",attrs:{dark:"",color:"purple darken-3 d-block",fab:"","elevation-10":""},on:{click:t.takePicture}},[a("v-icon",[t._v("mdi-camera")])],1)],1)],1)],1)],1)},w=[],k=a("b85c"),T=a("bc3a"),S=a.n(T),I=S.a.create({baseURL:"http://192.168.1.6:8000"}),O=a("2f62"),D={data:function(){return{player:null,streaming:!1,captured:!1}},methods:Object(n["a"])({init:function(){var t=this;if("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices){var e={video:{width:{min:640,ideal:1280,max:1920},height:{min:360,ideal:720,max:1080}}};navigator.mediaDevices.getUserMedia(e).then((function(e){t.player=document.querySelector("video"),"srcObject"in t.player&&(t.player.srcObject=e,t.player.play(),t.streaming=!0)})).catch((function(){this.streaming=!1}))}else console.log("Error setup camera")},takePicture:function(){var t=this,e=document.querySelector("canvas");if(e&&!0===this.streaming){e.width=document.querySelector("video").videoWidth,e.height=document.querySelector("video").videoHeight;var a=e.getContext("2d");a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(this.player,0,0),this.captured=!0;var s=e.toDataURL("image/png");I.post("/api/v1/items/scan/",s).then((function(e){if(200==e.status&&e.data!=[]){var a,s=Object(k["a"])(e.data);try{for(s.s();!(a=s.n()).done;)for(var i=a.value,r=0;r<i.quantity;r++)t.addItemToOrder(i)}catch(n){s.e(n)}finally{s.f()}t.$store.commit("TOGGLE_SCAN_DIALOG")}}))}}},Object(O["d"])("POS",{addItemToOrder:"ADD_ITEM_TO_ORDER"})),mounted:function(){console.log("mounted"),this.init()}},E=D,V=(a("776a"),a("132d")),j=a("8654"),P=a("71d9"),$=a("2a7f"),R=Object(u["a"])(E,y,w,!1,null,"649c4bf2",null),A=R.exports;v()(R,{VBtn:f["a"],VCard:h["a"],VDialog:g["a"],VIcon:V["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"],VToolbarItems:$["a"],VToolbarTitle:$["b"]});var M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-card",{attrs:{elevation:"0"}},[null!=t.capturedItemPicked?a("v-card-text",[a("v-container",{staticClass:"d-flex align-content-lg-start",attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"col-offset-2",attrs:{cols:"5"}},[a("img",{attrs:{src:null!=t.capturedItemPicked.image_url?t.capturedItemPicked.image_url:"https://storage.googleapis.com/scscbakery.appspot.com/no-image.png",alt:"image","min-height":"180px","max-height":"200px",height:"200px"}})]),a("v-col",{attrs:{cols:"7"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"\n                    mb-2\n                    primary--text\n                    text--darken-2 text-h5\n                    font-weight-bold\n                  "},[t._v(" "+t._s(t.capturedItemPicked.price)+" VND ")]),a("v-list-item-subtitle",{staticClass:"text-truncate d-block text-h6"},[t._v(" "+t._s(t.capturedItemPicked.name)+" ")])],1)],1)],1)],1)],1),a("v-row",[a("v-divider",{staticClass:"my-8"})],1)],1):t._e(),a("v-card-text",[a("v-container",{staticClass:"d-flex align-content-lg-start",attrs:{fluid:"","fill-height":""}},[a("v-row",{staticClass:"pa-1 align-center"},[a("v-col",{attrs:{cols:"10"}},[a("v-text-field",{attrs:{solo:"",label:"Search",clearable:"",width:"200px","hide-details":"",value:t.searchCriteria.searchValue},on:{input:t.inputSearchDelay}})],1),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{staticClass:"rounded-5 ml-2 white--text",attrs:{elevation:"4",big:"",color:"primary"},on:{click:t.clearSearch}},[t._v(" Clear ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{staticClass:"py-1 px-1",attrs:{tile:""}},[a("v-chip-group",{attrs:{multiple:"","active-class":"primary--text"},model:{value:t.searchCriteria.categories_selected,callback:function(e){t.$set(t.searchCriteria,"categories_selected",e)},expression:"searchCriteria.categories_selected"}},t._l(t.categories,(function(e){return a("v-chip",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1)],1),a("v-row",{staticClass:"px-1",staticStyle:{"max-height":"480px","overflow-y":"scroll"}},t._l(t.items,(function(e){return a("v-col",{key:e.id,attrs:{cols:"4",md:"6",lg:"4"}},[a("v-card",{attrs:{"min-width":"180px","max-width":"180px"},on:{click:function(a){return t.changeCapturedItemPick(e)}}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"mb-2",staticStyle:{"min-height":"140px"}},[a("img",{staticClass:"item-img",attrs:{src:null!=e.image_url?e.image_url:"https://storage.googleapis.com/scscbakery.appspot.com/no-image.png",alt:"image","max-height":"120px"}})]),a("v-list-item-title",{staticClass:"mb-2 primary--text text--darken-2 font-weight-bold"},[t._v(" "+t._s(e.price)+" VND ")]),a("v-list-item-subtitle",{staticClass:"text-truncate d-block"},[t._v(" "+t._s(e.name)+" ")])],1)],1)],1)],1)})),1)],1)],1)],1)],1)},N=[],L=(a("d81d"),a("b0c0"),a("2ef0")),U=a.n(L),q={data:function(){return{items:[],categories:[],grossPrice:0,tax:10,defaultItem:{},editedIndex:0,showDialogDelete:!1,searchCriteria:{searchValue:"",categories_selected:[]}}},created:function(){var t=this;I.get("/api/v1/items/all?skip=0&limit=100").then((function(e){t.items=e.data})),I.get("/api/v1/categories").then((function(e){t.categories=e.data.map((function(t){return{text:t.name,value:t.id}}))}))},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])({handlerSearch:function(){var t=this;I.post("/api/v1/items/search",this.searchCriteria).then((function(e){t.items=e.data})).catch((function(t){console.log(t)}))},clearSearch:function(){this.searchCriteria.searchValue="",this.searchCriteria.categories_selected=[],this.handlerSearch()},inputSearchDelay:U.a.debounce((function(t){this.searchCriteria.searchValue=t}),300)},Object(O["d"])("POS",{addItemToOrder:"ADD_ITEM_TO_ORDER",clearOrderItem:"CLEAR_ORDER_ITEM",setBillDialog:"SET_BILL_DIALOG",increaseQuantity:"INCREASE_ITEM_QUANTITY",decreaseQuantity:"DECREASE_ITEM_QUANTITY",deleteItem:"DELETE_ITEM_ORDER"})),Object(O["d"])({changeCapturedItemPick:"CHANGE_CAPTURED_ITEM_PICK"})),Object(O["b"])("POS",{checkout:"checkout"})),computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(O["e"])("POS",{orderItems:"orderItems",showBillDialog:"showBillDialog",checkoutStatus:"checkoutStatus"})),Object(O["e"])({capturedItemPicked:"capturedItemPicked"})),Object(O["c"])("POS",{totalOrderItem:"totalOrderItem",totalPrice:"totalPrice"})),watch:{checkoutStatus:function(t){1==t&&(this.$store.commit("SET_TOAST",{toastMsg:"Order saved!",toastColor:"green"}),this.showPayDialog=!1)},searchCriteria:{handler:function(t){t&&this.handlerSearch()},deep:!0}}},B=q,F=(a("ca6d"),a("cc20")),G=a("ef9a"),z=a("62ad"),H=a("a523"),Y=a("ce7e"),W=a("da13"),Q=a("5d23"),K=a("8dd9"),X=Object(u["a"])(B,M,N,!1,null,"05422f58",null),J=X.exports;v()(X,{VBtn:f["a"],VCard:h["a"],VCardText:p["b"],VChip:F["a"],VChipGroup:G["a"],VCol:z["a"],VContainer:H["a"],VDivider:Y["a"],VListItem:W["a"],VListItemContent:Q["a"],VListItemSubtitle:Q["b"],VListItemTitle:Q["c"],VRow:b["a"],VSheet:K["a"],VTextField:j["a"]});var Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{"max-width":"640px"},model:{value:t.$store.state.userProfile,callback:function(e){t.$set(t.$store.state,"userProfile",e)},expression:"$store.state.userProfile"}},[s("v-card",[s("v-toolbar",{attrs:{color:"primary"}},[s("v-card-title",[s("span",{staticClass:"text-h5 white--text"},[t._v("User Profile")])]),s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"warning"},on:{click:function(e){return t.$store.commit("SET_CHANGE_PASSWORD",null)}}},[t._v(" Change Password ")])],1),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"4"}}),s("v-col",{attrs:{cols:"4"}},[s("v-img",{attrs:{src:a("a8e7")}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{placeholder:"Username",label:"Username*",value:t.userProfile.username,readonly:""}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Fullname*",placeholder:"Fullname*",rules:[t.required("Fullname")]},model:{value:t.userProfile.full_name,callback:function(e){t.$set(t.userProfile,"full_name",e)},expression:"userProfile.full_name"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-radio-group",{attrs:{row:""},scopedSlots:t._u([{key:"label",fn:function(){return[s("div",[t._v("Gender")])]},proxy:!0}]),model:{value:t.userProfile.gender,callback:function(e){t.$set(t.userProfile,"gender",e)},expression:"userProfile.gender"}},[s("v-radio",{attrs:{label:"Male",value:!0}}),s("v-radio",{attrs:{label:"Female",value:!1}})],1)],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{placeholder:"Address"},model:{value:t.userProfile.address,callback:function(e){t.$set(t.userProfile,"address",e)},expression:"userProfile.address"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-text-field",{attrs:{placeholder:"Contact"},model:{value:t.userProfile.contact,callback:function(e){t.$set(t.userProfile,"contact",e)},expression:"userProfile.contact"}})],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mb-4"}),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.$store.commit("SET_USER_PROFILE",null)}}},[t._v(" Close ")]),s("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1"},on:{click:t.updateUserProfile}},[t._v(" Update ")])],1)],1)],1),t.$store.state.changePassword?s("ChangePassword",{attrs:{username:t.userProfile.username}}):t._e()],1)},tt=[],et=(a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"640px"},model:{value:t.$store.state.changePassword,callback:function(e){t.$set(t.$store.state,"changePassword",e)},expression:"$store.state.changePassword"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Change password")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Current password*",type:"password",rules:[t.required("Current password")]},model:{value:t.changePassowrd.curPassword,callback:function(e){t.$set(t.changePassowrd,"curPassword",e)},expression:"changePassowrd.curPassword"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"New password*",type:"password",rules:[t.required("New password")]},model:{value:t.changePassowrd.newPassword1,callback:function(e){t.$set(t.changePassowrd,"newPassword1",e)},expression:"changePassowrd.newPassword1"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Retype new password*",type:"password",rules:[t.required("Current password"),t.matchPassword()]},model:{value:t.changePassowrd.newPassword2,callback:function(e){t.$set(t.changePassowrd,"newPassword2",e)},expression:"changePassowrd.newPassword2"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-divider",{staticClass:"mb-4"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.$store.commit("SET_CHANGE_PASSWORD",null)}}},[t._v(" Close ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1"},on:{click:t.updatePassowrd}},[t._v(" Update ")])],1)],1)],1)],1)}),at=[],st={props:{username:String},data:function(){return{valid:!0,changePassowrd:{curPassword:"",newPassword1:"",newPassword2:""},required:function(t){return function(e){return e&&e.toString().length>0||"".concat(t," is required.")}},matchPassword:function(){var t=this;return function(e){return e&&e==t.changePassowrd.newPassword1||"New password not matched!"}}}},methods:{updatePassowrd:function(){var t=this;this.$refs.form.validate()&&I.put("api/v1/users/change-password",JSON.stringify({username:this.username,password:this.changePassowrd.curPassword,new_password:this.changePassowrd.newPassword1})).then((function(e){if(200==e.status)return t.$store.commit("SET_TOAST",{toastMsg:"Password updated!",toastColor:"success"}),void t.$store.commit("SET_CHANGE_PASSWORD",null)})).catch((function(){t.$store.commit("SET_TOAST",{toastMsg:"Password is not correct",toastColor:"orange"})}))}},mounted:function(){console.log(this.username)}},it=st,rt=a("4bd4"),nt=Object(u["a"])(it,et,at,!1,null,null,null),ot=nt.exports;v()(nt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"]});var ct={components:{ChangePassword:ot},data:function(){return{valid:!0,userProfile:{id:0,username:"",full_name:"",contact:"",address:"",gender:!1},required:function(t){return function(e){return e&&e.toString().length>0||"".concat(t," is required.")}}}},methods:{updateUserProfile:function(){var t=this;0!=this.userProfile.id&&this.$refs.form.validate()&&I.put("api/v1/users/",this.userProfile).then((function(e){200==e.status&&t.$store.commit("SET_TOAST",{toastMsg:"User profile updated!",toastColor:"green"})})).catch((function(t){console.log(t)}))}},mounted:function(){var t=this,e=this.$store.state.userid;I.get("api/v1/users/"+e).then((function(e){t.userProfile=e.data})).catch((function(t){console.log(t)}))}},lt=ct,dt=a("adda"),ut=a("67b6"),mt=a("43a6"),vt=Object(u["a"])(lt,Z,tt,!1,null,null,null),ft=vt.exports;v()(vt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VImg:dt["a"],VRadio:ut["a"],VRadioGroup:mt["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"]});var ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-12",attrs:{cols:"10"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,"sort-by":"calories",width:"90%",search:t.search},scopedSlots:t._u([{key:"item.balance",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(s.balance.toLocaleString()))])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"text-h4"},[t._v(" Customers ")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" New ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.full_name,callback:function(e){t.$set(t.editedItem,"full_name",e)},expression:"editedItem.full_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{disabled:-1!==t.editedIndex,label:"Username*",rules:[t.required("Username"),t.noSpace()]},model:{value:t.editedItem.username,callback:function(e){t.$set(t.editedItem,"username",e)},expression:"editedItem.username"}})],1),-1===t.editedIndex?a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Password*",type:"Password",rules:[t.required("Password")]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Balance",type:"number",min:"0",step:"1000",rules:[t.greaterThan(1e3)]},model:{value:t.editedItem.balance,callback:function(e){t.$set(t.editedItem,"balance",e)},expression:"editedItem.balance"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-select",{attrs:{items:t.roles,label:"Role*",disabled:"",rules:[function(t){return null!=t&&void 0!=t&&0!=t||"Roles is required."}]},model:{value:t.editedItem.role_id,callback:function(e){t.$set(t.editedItem,"role_id",e)},expression:"editedItem.role_id"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",disabled:!t.valid},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Warning! ")]),a("v-card-text",[t._v("You want to delete this customer?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.deleteItemConfirm}},[t._v(" OK ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.load}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)],1)},pt=[],gt=(a("a9e3"),{data:function(){return{valid:!0,dialog:!1,password:"",search:"",dialogDelete:!1,headers:[{text:"Full Name",align:"start",value:"full_name"},{text:"Username",value:"username"},{text:"Balance",value:"balance",sortable:!1},{text:"Action",value:"actions",sortable:!1}],users:[],editedIndex:-1,editedItem:{full_name:"",username:"",role_id:2,balance:0},defaultItem:{full_name:"",username:"",role_id:2,balance:0},roles:[{text:"",value:0},{text:"Cashier",value:0}],roleSelected:0,required:function(t){return function(e){return e&&e.length>0||"".concat(t," is required.")}},noSpace:function(){return function(t){return(t||"").indexOf(" ")<0||"No spaces are allowed"}},greaterThan:function(t){return function(e){return e&&Number(e)>=t||"Must greater than ".concat(t,"!")}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Customer":"Edit Customer"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},mounted:function(){this.load()},methods:{load:function(){var t=this;I.get("api/v1/users/?skip=0&limit=100").then((function(e){t.users=e.data;var a,s=Object(k["a"])(t.users);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.is_admin=1==i.role_id}}catch(r){s.e(r)}finally{s.f()}console.log(t.users)})).catch((function(t){console.log(t)})),I.get("api/v1/users/roles").then((function(e){200==e.status&&(t.roles=e.data.map((function(t){return{value:t.id,text:t.name}})),console.log(t.roles))})).catch((function(t){console.log(t)}))},getRoleName:function(t){var e,a=null===(e=this.roles)||void 0===e?void 0:e.reduce((function(e,a){return a.value==t&&(e=a.text),e}),"");return a},editItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0,this.password=""},deleteItem:function(t){this.editedIndex=this.users.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;I.delete("/api/v1/users/".concat(this.editedItem.id)).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Customer deleted!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)})),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.$refs.form.validate()){var e={full_name:this.editedItem.full_name,role_id:this.editedItem.role_id,balance:this.editedItem.balance};this.editedIndex>-1?(e.id=this.editedItem.id,I.put("/api/v1/users/",e).then((function(){t.load(),t.$store.commit("SET_TOAST",{toastMsg:"Customer updated!",toastColor:"green"})})).catch((function(t){console.log(t)}))):(e.password=this.password,e.username=this.editedItem.username,e.role_id=this.editedItem.role_id,e.balance=this.editedItem.balance,I.post("/api/v1/users/",e).then((function(){t.load(),t.$store.commit("SET_TOAST",{toastMsg:"Customer added!",toastColor:"green"})})).catch((function(t){console.log(t)}))),this.close()}},filterUser:function(t,e,a){return console.log(a),null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().indexOf(e)}},filters:{currency:function(t){return t.toLocaleString()}}}),bt=gt,_t=a("8fea"),Ct=a("a722"),xt=a("b974"),yt=Object(u["a"])(bt,ht,pt,!1,null,null,null),wt=yt.exports;v()(yt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VIcon:V["a"],VLayout:Ct["a"],VRow:b["a"],VSelect:xt["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"],VToolbarTitle:$["b"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-col",{attrs:{lg:"4"}},[a("v-card",{attrs:{outlined:"",height:"100%"}},[a("v-container",{staticClass:"d-flex",attrs:{"fill-height":""}},[a("v-row",{staticClass:"mt-1 align-self-start",attrs:{justify:"center"}},[a("v-row",{staticClass:"mx-3 mb-2 elevation-0 justify-center"},[a("v-col",{staticClass:"text-h5",attrs:{cols:"12"}},[t._v(" Order #"+t._s(this.currentOrderCode)+" ")])],1),a("v-data-table",{staticClass:"elevation-4 mx-3",attrs:{headers:t.headers,items:t.orderItems},scopedSlots:t._u([{key:"item.quantity",fn:function(e){return[a("v-edit-dialog",{scopedSlots:t._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",min:"1",type:"number",step:"1"},on:{change:function(a){return t.updateItemQuantity({quantity:e.item.quantity,itemId:e.item.id})}},model:{value:e.item.quantity,callback:function(a){t.$set(e.item,"quantity",a)},expression:"props.item.quantity"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(e.item.quantity)+" ")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"green darken-1"},on:{click:function(e){return t.increaseQuantity(s.id)}}},[t._v(" mdi-arrow-up-drop-circle-outline ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"orange darken-1"},on:{click:function(e){return t.decreaseQuantity(s.id)}}},[t._v(" mdi-arrow-down-drop-circle-outline ")]),a("v-icon",{attrs:{small:"",color:"red darken-1"},on:{click:function(e){return t.deleteItem(s.id)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-row",{staticClass:"align-self-end my-0"},[a("v-card",{staticClass:"mx-3 elevation-6",attrs:{width:"100%"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"mb-4"},[a("v-col",{attrs:{cols:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Number of items",readonly:"",outlined:"",dense:"","hide-details":"",value:t.totalOrderItem}})],1)],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Subtotal",readonly:"",outlined:"",dense:"","hide-details":"",value:t._f("currency")(this.totalPrice)}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Total",readonly:"",outlined:"",dense:"","hide-details":"","background-color":"green lighten-5",value:t._f("currency")(this.totalPrice)}})],1)],1)],1)],1),a("v-row",{staticClass:"mb-2 mx-auto"},[a("v-spacer"),a("v-btn",{staticClass:"rounded-5 mr-lg-5 white--text",attrs:{elevation:"4",color:"red darken-1"},on:{click:t.clearOrderItem}},[a("v-icon",{staticClass:"mx-0",attrs:{left:"",dark:"",color:"white"}},[t._v(" mdi-cancel ")]),a("span",{staticClass:"hidden-sm-and-down ml-3"},[t._v("Clear")])],1),a("v-btn",{staticClass:"rounded-5 mr-lg-5 white--text d-none",attrs:{elevation:"4",small:"",color:"#5fbeaa"}},[a("v-icon",{staticClass:"mx-0 white--text",attrs:{left:"",dark:"",color:"white"}},[t._v("> mdi-hand ")]),a("span",{staticClass:"hidden-sm-and-down ml-3"},[t._v("Hold")])],1),a("v-btn",{staticClass:"rounded-5 white--text",attrs:{elevation:"4",color:"green darken-1",disabled:0==this.orderItems.length},on:{click:function(e){return t.$store.commit("SET_PAYDIALOG",!0)}}},[a("v-icon",{staticClass:"mx-0",attrs:{left:"",dark:"",color:"white"}},[t._v(" mdi-cash ")]),a("span",{staticClass:"hidden-sm-and-down ml-3"},[t._v("Submit")])],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{lg:"8"}},[a("v-card",{attrs:{height:"100%",outlined:"",tile:""}},[a("v-container",{staticClass:"d-flex align-content-lg-start",attrs:{fluid:"","fill-height":""}},[a("v-row",{staticClass:"pa-1 align-center"},[a("v-col",{attrs:{cols:"3"}},[a("v-autocomplete",{attrs:{items:t.customers,"auto-select-first":"",clearable:"","deletable-chips":"","hide-details":"",label:"Customer",outlined:"",dense:""},on:{blur:t.blurCustomer},model:{value:t.customerValue,callback:function(e){t.customerValue=e},expression:"customerValue"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"rounded-5",attrs:{fab:"","elevation-2":"",small:"",color:"primary"},on:{click:function(e){return t.$store.commit("SET_ADD_CUSTOMER",!0)}}},[a("v-icon",{staticClass:"mx-0",attrs:{left:"",dark:""}},[t._v(" mdi-plus ")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-sheet",{staticClass:"py-4 px-1",attrs:{tile:""}},[a("v-chip-group",{attrs:{multiple:"","active-class":"primary--text"},model:{value:t.searchCriteria.categories_selected,callback:function(e){t.$set(t.searchCriteria,"categories_selected",e)},expression:"searchCriteria.categories_selected"}},t._l(t.categories,(function(e){return a("v-chip",{key:e.value,attrs:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{outlined:"",label:"Search item by name",clearable:"",width:"200px","hide-details":"",value:t.searchCriteria.searchValue},on:{input:t.inputSearchDelay}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"rounded-5 white--text",attrs:{elevation:"4",big:"",color:"primary"},on:{click:t.clearSearch}},[t._v(" Clear ")])],1)],1),a("v-row",[a("v-divider")],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.scanMode,expression:"!$store.state.scanMode"}],staticStyle:{"overflow-y":"scroll","max-height":"726px"}},t._l(t.items,(function(e){return a("v-col",{key:e.id,attrs:{cols:"2",md:"3",sm:"6",lg:"2"}},[a("v-card",{on:{click:function(a){return t.addItemToOrder(e)}}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"mb-2",staticStyle:{"min-height":"140px"}},[a("img",{staticClass:"item-img",attrs:{src:null!=e.image_url?e.image_url:"https://storage.googleapis.com/scscbakery.appspot.com/no-image.png",alt:"image","max-height":"120px"}})]),a("v-list-item-title",{staticClass:"mb-2 primary--text text--darken-2 font-weight-bold"},[t._v(" "+t._s(t._f("currency")(e.price))+" VND ")]),a("v-list-item-subtitle",{staticClass:"text-truncate d-block green--text text--darken-4"},[t._v(" "+t._s(e.name)+" ")])],1)],1)],1)],1)})),1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.scanMode,expression:"$store.state.scanMode"}],staticClass:"pa-1 align-center"},[a("Scanning")],1)],1)],1)],1),a("ConfirmDialog",{attrs:{showDialog:this.showDialogDelete},on:{"close-payment-dialog":function(e){return t.closeDelete()},"delete-item-confirm":function(e){return t.deleteItemConfirm()}},scopedSlots:t._u([{key:"title",fn:function(){return[a("v-btn",[t._v("Delete")])]},proxy:!0}])}),t.$store.state.payDialog?a("PayDialog",{on:{"confirm-payment":t.checkout}}):t._e(),a("BillDialog",{attrs:{show:this.showBillDialog}}),a("AddCustomer",{attrs:{show:t.$store.state.addCustomerDialog}})],1)},Tt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._t("title")],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.$emit("close-delete")}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.$emit("delete-item-confirm")}}},[t._v("OK")]),a("v-spacer")],1)],1)],1)},It=[],Ot={name:"DialogDeleteItem",props:["showDialog"],data:function(){return{}},methods:{}},Dt=Ot,Et=Object(u["a"])(Dt,St,It,!1,null,null,null),Vt=Et.exports;v()(Et,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardTitle:p["c"],VDialog:g["a"],VSpacer:_["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"780px"},model:{value:t.$store.state.payDialog,callback:function(e){t.$set(t.$store.state,"payDialog",e)},expression:"$store.state.payDialog"}},[a("v-card",[a("v-card-title",{attrs:{color:"primary white--text"}},[a("span",{staticClass:"text-h5"},[t._v("Payment")])]),a("v-card-text",[a("v-container",{attrs:{"mt-4":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Cashier",value:t.$store.state.username,dense:"",outlined:"",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Customer",value:t.getCustomerCheckout.text,dense:"",outlined:"",readonly:""}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"subtitle-1 text--grey"},[t._v("Subtotal")])]),a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{placeholder:"Placeholder",value:t._f("currency")(t.totalPrice),readonly:"",solo:""}})],1),0!=t.discount.value?a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"subtitle-1 text--grey"},[t._v("Discount:")]),a("div",{staticClass:"caption text--grey"},[t._v(" "+t._s(0==t.discount.type?"Percentage(%)":"Cash")+t._s(":"+t.discount.value)+" ")])]):t._e(),0!=t.discount.value?a("v-col",{attrs:{cols:"3"}},[a("v-text-field",{attrs:{value:t._f("currency")(t.getDiscountValue),readonly:"",solo:""}})],1):t._e()],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"subtitle-1 text--grey"},[t._v("Total Pay")])]),a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{placeholder:"Placeholder",value:t._f("currency")(t.getPriceAfterDiscount),readonly:"",solo:""}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"subtitle-1 text--grey"},[t._v("Payment")])]),a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{solo:"",type:"number",step:"1000",clearable:""},model:{value:t.paymentAmount,callback:function(e){t.paymentAmount=e},expression:"paymentAmount"}}),t._l([1,2,5,10,20,50,100,200,500],(function(e){return a("v-btn",{key:e,staticClass:"mx-1",attrs:{color:"green",outlined:"","x-small":""},on:{click:function(a){return t.addToMonney(e)}}},[t._v(t._s(e)+"k")])}))],2)],1),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("div",{staticClass:"subtitle-1 text--grey"},[t._v("Change")])]),a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{placeholder:"Placeholder",value:t._f("currency")(t.change),readonly:"",solo:""}})],1)],1),a("v-row",{staticClass:"d-none",attrs:{id:"print-me"}},[a("div",{staticClass:"logo-container"},[a("h2",{staticStyle:{"text-align":"center"}},[t._v("SCSC")])]),a("table",{staticClass:"invoice-info-container"},[a("tr",[a("td",[t._v(" Invoice Date: "),a("strong",[t._v(t._s(t.getNow))])]),a("td")]),a("tr",[a("td",[t._v(" Invoice No: "),a("strong",[t._v("#"+t._s(t.currentOrderCode))])]),a("td")]),a("tr",[a("td",[t._v(" Cashier: "),a("strong",[t._v(t._s(t.$store.state.username))])]),a("td")])]),a("table",{staticClass:"line-items-container"},[a("thead",[a("tr",[a("th",{staticClass:"heading-quantity"},[t._v("Qty")]),a("th",{staticClass:"heading-description"},[t._v("Description")]),a("th",{staticClass:"heading-price"},[t._v("Price")]),a("th",{staticClass:"heading-subtotal"},[t._v("Subtotal")])])]),a("tbody",[t._l(t.orderItems,(function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"right"},[t._v(t._s(t._f("currency")(e.price)))]),a("td",{staticClass:"bold"},[t._v(" "+t._s(t._f("currency")(e.price*e.quantity))+" ")])])})),a("tr",{staticStyle:{border:"1px solid black"}}),a("tr",[a("td",[t._v("Term")]),a("td"),a("td"),a("td",[t._v("Value")])]),a("tr",[a("td",[t._v("Subtotal")]),a("td"),a("td"),a("td",[t._v(t._s(t._f("currency")(t.totalPrice)))])]),a("tr",[a("td",[t._v("Discount")]),a("td"),a("td"),a("td",[t._v(" "+t._s(t._f("currency")(t.getDiscountValue))+" ")])]),a("tr",[a("td",[t._v("Total")]),a("td"),a("td"),a("td",[a("strong",[t._v(t._s(t._f("currency")(t.getPriceAfterDiscount)))])])]),a("tr",[a("td",[t._v("Cash give")]),a("td"),a("td"),a("td",[t._v(t._s(t.paymentAmount))])]),a("tr",[a("td",[t._v("Charge")]),a("td"),a("td"),a("td",[t._v(t._s(t._f("currency")(t.change)))])])],2)]),a("div",{staticClass:"footer"},[a("div",{staticClass:"footer-thanks"},[a("span",[t._v("Thank you!")])])])])],1)],1),a("v-divider",{staticClass:"mb-4"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",text:"",disabled:!t.canPurchase},on:{click:function(e){return t.printInvoice()}}},[t._v(" Print ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.$store.commit("SET_PAYDIALOG",!1)}}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",disabled:!t.canPurchase},on:{click:function(e){return t.$emit("confirm-payment",{amount:t.paymentAmount,change:t.change,discountValue:t.getDiscountValue})}}},[t._v(" Confirm ")])],1)],1)],1),a("iframe",{attrs:{id:"iframe-print",src:"/PrintInvoice",frameborder:"0",width:"100px",height:"100px"}})],1)},Pt=[],$t=a("c1df"),Rt=a.n($t),At={name:"PayDialog",props:{show:Boolean},data:function(){return{paymentAmount:0,enableDialog:!1,customerValue:{text:"Walk in customer",value:-1}}},methods:Object(n["a"])(Object(n["a"])({addToMonney:function(t){this.paymentAmount=Number(this.paymentAmount)+1e3*t}},Object(O["b"])("POS",{calculateDiscount:"calculateDiscount"})),{},{printInvoice:function(){this.$htmlToPaper("print-me",{autoClose:!0})}}),computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({canPurchase:function(){return this.paymentAmount>=this.getPriceAfterDiscount},change:function(){return this.paymentAmount<this.totalPrice?0:this.paymentAmount-this.getPriceAfterDiscount}},Object(O["c"])("POS",{totalPrice:"totalPrice",discount:"discount",getCustomerCheckout:"getCustomerCheckout"})),Object(O["e"])("POS",{orderItems:"orderItems",currentOrderCode:"currentOrderCode"})),{},{getPriceAfterDiscount:function(){return this.totalPrice-this.getDiscountValue},getDiscountValue:function(){return 0==this.discount.type?1e3*Math.round(this.totalPrice*this.discount.value/1e5):this.discount.value},getNow:function(){return Rt()(Date.now()).format("MMMM Do YYYY, h:mm:ss a")}}),created:function(){this.calculateDiscount()},filters:{currency:function(t){return t.toLocaleString()}}},Mt=At,Nt=(a("a0ea"),Object(u["a"])(Mt,jt,Pt,!1,null,"48dcdf84",null)),Lt=Nt.exports;v()(Nt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDialog:g["a"],VDivider:Y["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"300","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.$store.state.POS.showBillDialog,callback:function(e){t.$set(t.$store.state.POS,"showBillDialog",e)},expression:"$store.state.POS.showBillDialog"}},[a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary white--text darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v(" Print ")])],1),a("v-divider",{staticClass:"pa-2"}),a("v-card-text",[a("div",{staticClass:"ticket"},[a("p",{staticClass:"centered"},[t._v(" SCSC Bakery "),a("br"),t._v(" Contact: 8888 8888 8888 "),a("br"),t._v(" Address: New york ")]),a("table",[a("thead",[a("tr",[a("th",{staticClass:"description"},[t._v("Description")]),a("th",{staticClass:"quantity"},[t._v("Q.")]),a("th",{staticClass:"price"},[t._v("$$")])])]),a("tbody",t._l(5,(function(e){return a("tr",{key:e},[a("td",{staticClass:"description"},[t._v("ARDUINO UNO R3")]),a("td",{staticClass:"quantity"},[t._v("1.00")]),a("td",{staticClass:"price"},[t._v("$25.00")])])})),0)]),a("p",{staticClass:"centered"},[t._v(" Thanks for your purchase! "),a("br"),t._v("parzibyte.me/blog ")])])])],1)],1)],1)},qt=[],Bt={data:function(){return{}}},Ft=Bt,Gt=(a("0524"),Object(u["a"])(Ft,Ut,qt,!1,null,"7f66b3e9",null)),zt=Gt.exports;v()(Gt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VDialog:g["a"],VDivider:Y["a"],VRow:b["a"],VSpacer:_["a"]});var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"640px"},model:{value:t.$store.state.addCustomerDialog,callback:function(e){t.$set(t.$store.state,"addCustomerDialog",e)},expression:"$store.state.addCustomerDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("New Customer")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Phone*",rules:[t.required("Phone"),t.isPhone(),t.isAlrealdyExist()]},model:{value:t.newCustomer.contact,callback:function(e){t.$set(t.newCustomer,"contact",e)},expression:"newCustomer.contact"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Name",rules:[t.required("Name")]},model:{value:t.newCustomer.name,callback:function(e){t.$set(t.newCustomer,"name",e)},expression:"newCustomer.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Address"},model:{value:t.newCustomer.address,callback:function(e){t.$set(t.newCustomer,"address",e)},expression:"newCustomer.address"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-divider",{staticClass:"mb-4"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"primary darken-1",text:""},on:{click:function(e){return t.$store.commit("SET_ADD_CUSTOMER",!1)}}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1"},on:{click:t.addNewCustomer}},[t._v(" Save ")])],1)],1)],1)],1)},Yt=[],Wt=(a("ac1f"),a("1276"),{data:function(){return{valid:!0,newCustomer:{name:"",contact:"",address:""},required:function(t){return function(e){return e&&e.toString().length>0||"".concat(t," is required.")}},isPhone:function(){var t=/(0[3|5|7|8|9])+([0-9]{8})\b/;return function(e){return e&&t.test(e)||"Not a valid phone number."}},isAlrealdyExist:function(){var t=this;return function(e){return e&&!t.customers.some((function(t){return t.text.split(" - ")[1]==e}))||"This customer phone is already existed!"}}}},methods:{addNewCustomer:function(){var t=this,e=this;this.$refs.form.validate()&&(I.post("/api/v1/customers",{name:e.newCustomer.name,contact:e.newCustomer.contact,address:e.newCustomer.address}).then((function(e){200==e.status&&e.data&&(t.$store.commit("SET_TOAST",{toastMsg:"Customer added!",toastColor:"green"}),t.$store.dispatch("POS/addCusomterInPOS",e.data.id))})).catch((function(t){console.error(t)})),this.$refs.form.reset(),this.$store.commit("SET_ADD_CUSTOMER",!1))}},computed:Object(n["a"])({},Object(O["e"])("POS",{customers:"customers"}))}),Qt=Wt,Kt=Object(u["a"])(Qt,Ht,Yt,!1,null,null,null),Xt=Kt.exports;v()(Kt,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"]});var Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"camera"},[a("video",{directives:[{name:"show",rawName:"v-show",value:!t.captured,expression:"!captured"}],staticClass:"feed"}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:t.captured,expression:"captured"}],staticClass:"feed",attrs:{id:"canvas"}}),a("v-container",[a("v-row",[a("v-card",{staticClass:"d-flex justify-space-between elevation-0",attrs:{width:"100%",height:"96px",color:"transparent"}},[t.hasResponse?a("v-btn",{staticClass:"align-self-center",attrs:{dark:"",color:"orange darken-3 d-inline-block","elevation-10":""},on:{click:t.cancelResult}},[t._v(" Cancel")]):t._e(),t.captured?t._e():a("v-btn",{staticClass:"mx-auto align-self-center",attrs:{dark:"",color:"primary darken-3 d-inline-block",fab:"","elevation-10":""},on:{click:t.takePicture}},[a("v-icon",[t._v("mdi-camera")])],1),t.captured&&t.hasResponse?a("v-btn",{staticClass:"mx-auto align-self-center d-inline-block",attrs:{dark:"",color:"primary "+(1==t.isDrawing?"darken-3":""),"elevation-10":""},on:{click:function(e){return t.$store.commit("SET_DRAWING",null)}}},[t._v(" tag ")]):t._e(),t.hasResponse?a("v-btn",{staticClass:"align-self-center",attrs:{dark:"",color:"green darken-3 d-inline-block","elevation-10":""},on:{click:t.takeMorePicture}},[t._v(" Continue")]):t._e()],1)],1)],1)],1)},Zt=[],te=(a("7db0"),a("99af"),a("159b"),a("7a94")),ee={data:function(){return{player:null,currentCaptureData:null,streaming:!1,captured:!1,hasResponse:!1,videoTagHeight:0,videoTagWidth:0,constraint:{video:{width:{ideal:1920},height:{ideal:1080}}},canvas:null,isDown:!1,origX:null,origY:null,rectangle:null,show:{x:0,y:0}}},computed:Object(n["a"])({},Object(O["e"])({capturedResponse:"capturedResponse",isDrawing:"isDrawing"})),methods:Object(n["a"])({hasGetUserMedia:function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)},init:function(){var t=this;this.hasGetUserMedia()?navigator.mediaDevices.getUserMedia(this.constraint).then((function(e){t.player=document.querySelector("video"),"srcObject"in t.player&&(t.player.srcObject=e,t.player.play(),t.streaming=!0)})).catch((function(){t.streaming=!1,t.$store.commit("SET_TOAST",{toastMsg:"No camera found!",toastColor:"red"}),t.$store.commit("SET_SCAN_MODE",!1)})):this.$swal("This browser is not supported")},drawBox:function(t,e,a,s,i){return new te["fabric"].Rect({top:e,left:t,width:a,height:s,fill:"rgba(0,0,0,0)",stroke:i>.9?"green":"yellow",strokeWidth:3,originX:"center",originY:"center",lockMovementX:!0,lockMovementY:!0,lockScalingX:!0,lockScalingY:!0,lockSkewingX:!0,lockSkewingY:!0})},drawText:function(t,e,a){return new te["fabric"].Text(t,{top:a,left:e,originX:"left",originY:"top",fontSize:25,fontFamily:"roboto",fontWeight:"bold",strokeWidth:1,stroke:"white",fill:"blue",hasControls:!1})},cancelResult:function(){this.canvas&&this.canvas.dispose(),this.captured=!1,this.hasResponse=!1,this.$store.commit("SET_CAPTURED_RESPONSE",{items:[],positions:[]})},takeMorePicture:function(){var t=[];if(this.capturedResponse){var e,a=Object(k["a"])(this.capturedResponse.positions);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(null!=s&&-1!=s[0]){var i=this.capturedResponse.items.find((function(t){return t.id==s[0]}));t.push(s),this.addItemToOrder(i)}}}catch(r){a.e(r)}finally{a.f()}1==this.$store.state.positions_updated&&I.post("/api/v1/items/upload-image/",JSON.stringify({image:this.currentCaptureData,positions:t})).catch((function(t){console.error(t)})),this.$store.commit("RESET_POSITION_UPDATED_FLAG"),this.$store.commit("SET_CAPTURED_RESPONSE",{items:[],positions:[]})}this.canvas&&this.canvas.dispose(),this.captured=!1,this.hasResponse=!1},takePicture:function(){var t=this;this.$store.commit("RESET_POSITION_UPDATED_FLAG");var e=document.querySelector("canvas");if(e&&!0===this.streaming){this.videoTagWidth=document.querySelector("video").offsetWidth,this.videoTagHeight=document.querySelector("video").offsetHeight,e.width=this.videoTagWidth,e.height=this.videoTagHeight;var a=e.getContext("2d");a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(this.player,0,0,this.videoTagWidth,this.videoTagHeight);var s=e.toDataURL("image/png");this.currentCaptureData=s,t.captured=!0,I.post("/api/v1/items/scan/",s).then((function(e){if(t.canvas=new te["fabric"].Canvas("canvas"),te["fabric"].Image.fromURL(s,(function(e){t.canvas.backgroundImage=e,t.canvas.renderAll()})),200==e.status&&null!=e.data){t.$store.commit("SET_CAPTURED_RESPONSE",e.data);var a,i=0,r=Object(k["a"])(e.data.positions);try{for(r.s();!(a=r.n()).done;){var n=a.value,o=e.data.items.find((function(t){return t.id==n[0]})),c=new te["fabric"].Group([t.drawBox(n[1]*t.videoTagWidth,n[2]*t.videoTagHeight,n[3]*t.videoTagWidth,n[4]*t.videoTagHeight,n[5]),t.drawText(o.name+"\n"+o.price,(n[1]-n[3]/2)*t.videoTagWidth+20,(n[2]-n[4]/2)*t.videoTagHeight+20)],{lockMovementX:!1,lockMovementY:!1,lockScalingX:!0,lockScalingY:!0,lockSkewingX:!0,lockSkewingY:!0});c.set("name_",o.name),c.set("id_",o.id),c.set("index_",i),t.canvas.add(c),i++}}catch(l){r.e(l)}finally{r.f()}}t.hasResponse=!0,t.canvas&&(t.canvas.on("mouse:dblclick",(function(e){e.target&&e.target.name_&&(t.$store.commit("SET_CAPTURED_ITEM_PICK",{id:e.target.id_,index:e.target.index_,positions:[(e.target.left+e.target.width/2)/t.videoTagWidth,(e.target.top+e.target.height/2)/t.videoTagHeight,e.target.width/t.videoTagWidth,e.target.height/t.videoTagHeight],update:function(a,s,i,r){e.target.id_=r,e.target._objects[1].set({text:"".concat(a,"\n").concat(s)}),t.canvas.requestRenderAll(),-1==e.target.id_&&(e.target.name_=a,e.target.id_=r,e.target.index_=i),console.log("Updated")}}),t.$store.commit("SET_ITEM_DIALOG",!0))})),t.canvas.on("mouse:down",(function(e){if(0!=t.isDrawing){var a=t.canvas.getPointer(e.e);t.canvas._objects.forEach((function(t){t.set({selectable:!1})})),t.isDown=!0,t.origX=a.x,t.origY=a.y,t.rectangle=new te["fabric"].Rect({left:t.origX,top:t.origY,fill:"transparent",stroke:"red",strokeWidth:3}),t.canvas.add(t.rectangle)}})),t.canvas.on("mouse:move",(function(e){if(0!=t.isDrawing&&t.isDown){var a=t.canvas.getPointer(e.e);t.show.x=a.x,t.show.y=a.y,t.origX>a.x&&t.rectangle.set({left:Math.abs(a.x)}),t.origY>a.y&&t.rectangle.set({top:Math.abs(a.y)}),t.rectangle.set({width:Math.abs(t.origX-a.x)}),t.rectangle.set({height:Math.abs(t.origY-a.y)}),t.canvas.requestRenderAll()}})),t.canvas.on("mouse:up",(function(){if(0!=t.isDrawing){t.isDown=!1,t.$store.commit("SET_DRAWING",!1);var e=new te["fabric"].Group([t.rectangle,new te["fabric"].Text("",{left:t.rectangle.left+20,top:t.rectangle.top+20,fontSize:25,fontFamily:"roboto",fontWeight:"bold",strokeWidth:1,stroke:"white",fill:"blue"})]);t.canvas.remove(t.rectangle),e.set("name_","raw"),e.set("id_",-1),e.set("index_",-1),t.canvas.add(e),t.canvas._objects.forEach((function(t){t.set({selectable:!0})})),t.canvas.requestRenderAll()}})))})).catch((function(){t.captured=!1,t.hasResponse=!1}))}}},Object(O["d"])("POS",{addItemToOrder:"ADD_ITEM_TO_ORDER"})),mounted:function(){console.log("mounted"),this.init();var t=this;te["fabric"].Object.prototype.transparentCorners=!0,te["fabric"].Object.prototype.setControlsVisibility({tl:!1,mt:!1,tr:!1,ml:!1,mr:!1,bl:!1,mb:!1,br:!1,mtr:!1});var e="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' id='Ebene_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='595.275px' height='595.275px' viewBox='200 215 230 470' xml:space='preserve'%3E%3Ccircle style='fill:%23F44336;' cx='299.76' cy='439.067' r='218.516'/%3E%3Cg%3E%3Crect x='267.162' y='307.978' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -222.6202 340.6915)' style='fill:white;' width='65.545' height='262.18'/%3E%3Crect x='266.988' y='308.153' transform='matrix(0.7071 0.7071 -0.7071 0.7071 398.3889 -83.3116)' style='fill:white;' width='65.544' height='262.179'/%3E%3C/g%3E%3C/svg%3E",a=document.createElement("img");function s(e,a){var s=a.target;console.log("outer_if"),s&&void 0!=s.index_&&(console.log("in_if"),t.$store.commit("REMOVE_CAPTURED_ITEM",s.index_),console.log(s.index_));var i=s.canvas;i.remove(s),i.requestRenderAll()}function i(t,e,s,i,r){var n=this.cornerSize;t.save(),t.translate(e,s),t.rotate(te["fabric"].util.degreesToRadians(r.angle)),t.drawImage(a,-n/2,-n/2,n,n),t.restore()}a.src=e,te["fabric"].Object.prototype.controls.deleteControl=new te["fabric"].Control({x:.5,y:-.5,offsetY:40,cursorStyle:"pointer",mouseUpHandler:s,render:i,cornerSize:24})}},ae=ee,se=(a("d07a"),Object(u["a"])(ae,Jt,Zt,!1,null,"1a1c7e26",null)),ie=se.exports;v()(se,{VBtn:f["a"],VCard:h["a"],VContainer:H["a"],VIcon:V["a"],VRow:b["a"]});var re={components:{ConfirmDialog:Vt,PayDialog:Lt,BillDialog:zt,Scanning:ie,AddCustomer:Xt},data:function(){return{headers:[{text:"#",align:"start",sortable:!1,value:"rownumber"},{text:"Item",value:"name"},{text:"Quantity",value:"quantity"},{text:"Price",value:"price"},{text:"",value:"actions",sortable:!1}],items:[],categories:[],grossPrice:0,tax:10,defaultItem:{},editedIndex:0,showDialogDelete:!1,searchCriteria:{searchValue:"",categories_selected:[]}}},created:function(){var t=this;I.get("/api/v1/items/all?skip=0&limit=100").then((function(e){t.items=e.data})),I.get("/api/v1/categories").then((function(e){t.categories=e.data.map((function(t){return{text:t.name,value:t.id}}))})),this.getCustomer()},methods:Object(n["a"])(Object(n["a"])({deleteItemConfirm:function(){this.closeDelete()},closeDelete:function(){var t=this;this.showDialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assigcategories_selectedn({},t.defaultItem),t.editedIndex=-1}))},enablePayDialog:function(){this.showPayDialog=!0,console.log("ahihi")},closePayDialog:function(){this.showPayDialog=!1},handlerSearch:function(){var t=this;this.$store.commit("SET_SCAN_MODE",!1),I.post("/api/v1/items/search",this.searchCriteria).then((function(e){t.items=e.data})).catch((function(t){console.log(t)}))},clearSearch:function(){this.searchCriteria.searchValue="",this.searchCriteria.categories_selected=[],this.handlerSearch()},inputSearchDelay:U.a.debounce((function(t){this.searchCriteria.searchValue=t}),300)},Object(O["d"])("POS",{addItemToOrder:"ADD_ITEM_TO_ORDER",clearOrderItem:"CLEAR_ORDER_ITEM",setBillDialog:"SET_BILL_DIALOG",increaseQuantity:"INCREASE_ITEM_QUANTITY",decreaseQuantity:"DECREASE_ITEM_QUANTITY",updateItemQuantity:"UPDATE_ITEM_QUANTITY",deleteItem:"DELETE_ITEM_ORDER",addOnHold:"ADD_ON_HOLD",removeOnHold:"REMOVE_ON_HOLD",blurCustomer:"BLUR_CUSTOMER"})),Object(O["b"])("POS",{checkout:"checkout",getCustomer:"getCustomer",updateCurrentTab:"updateCurrentTab",changeCustomerValue:"changeCustomerValue"})),computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(O["e"])("POS",{orderItems:"orderItems",showBillDialog:"showBillDialog",customers:"customers",listOnHold:"listOnHold",currentOrderCode:"currentOrderCode"})),Object(O["c"])("POS",{totalOrderItem:"totalOrderItem",totalPrice:"totalPrice"})),{},{currentTab:{get:function(){return this.$store.state.POS.currentTab},set:function(t){return this.updateCurrentTab(t)}},customerValue:{get:function(){return this.$store.state.POS.customerValue},set:function(t){this.changeCustomerValue(t)}}}),watch:{searchCriteria:{handler:function(t){t&&this.handlerSearch()},deep:!0}},filters:{currency:function(t){return t.toLocaleString()}}},ne=re,oe=(a("1fc9"),a("c6a6")),ce=a("7679"),le=Object(u["a"])(ne,kt,Tt,!1,null,"a919c262",null),de=le.exports;v()(le,{VAutocomplete:oe["a"],VBtn:f["a"],VCard:h["a"],VChip:F["a"],VChipGroup:G["a"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VDivider:Y["a"],VEditDialog:ce["a"],VIcon:V["a"],VLayout:Ct["a"],VListItem:W["a"],VListItemContent:Q["a"],VListItemSubtitle:Q["b"],VListItemTitle:Q["c"],VRow:b["a"],VSheet:K["a"],VSpacer:_["a"],VTextField:j["a"]});var ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"fill-height",attrs:{id:"login",fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-card",{staticClass:"elevation-12 rounded-xl"},[s("v-card-text",[s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"my-16",attrs:{align:"center"}},[s("v-col",{staticClass:"d-sm-none d-md-block",attrs:{cols:"6"}},[s("v-img",{attrs:{src:a("ce03")}})],1),s("v-col",{attrs:{cols:"6",md:"6",sm:"12"}},[s("div",{staticClass:"text-center mb-8"},[s("h3",{staticClass:"text-h4"},[t._v("Welcome")]),s("h4",{staticClass:"subtitle-1 mb-3"},[t._v("Have a good day!")])]),s("v-form",[s("v-text-field",{staticClass:"mx-8",attrs:{"prepend-icon":"person",name:"login",label:"Username",type:"text",outlined:"",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{staticClass:"mx-8",attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password",outlined:"",dense:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticClass:"d-flex"},[s("v-spacer"),s("v-btn",{staticClass:"text-none mx-8",attrs:{color:"primary"},on:{click:t.login}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-snackbar",{staticStyle:{"z-index":"999"},attrs:{timeout:"2000",color:t.snackbarColor,absolute:"",top:"",right:"",app:"","min-height":"70",dark:"",prominent:"",transition:"slide-x-reverse-transition"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarMsg)+" ")])],1)},me=[],ve=(a("3ca3"),a("ddb0"),a("2b3d"),a("4c53"),a("5319"),a("a15b"),a("fb6a"),function(t){return localStorage.setItem("token",t)});function fe(t){var e=t.split(".")[1],a=e.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(a).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(s)}var he={name:"Login",props:{source:String},data:function(){return{err:!1,username:"",password:"",snackbar:!1,snackbarMsg:"",snackbarColor:""}},methods:{login:function(){var t=this;if(""==this.username||""==this.password)return this.snackbar=!0,this.snackbarMsg="Please input username and password",void(this.snackbarColor="warning");var e=new URLSearchParams;e.append("username",this.username),e.append("password",this.password),I.post("/api/v1/login/access-token",e).then((function(e){var a=e.data.access_token;if(a){ve(a);var s=fe(a),i=JSON.parse(s.sub);t.$store.commit("SET_LOGIN_TOKEN",a),t.$store.commit("SET_AUTH_STATUS",!0),t.$store.commit("SET_ROLE",i.is_admin),t.$store.commit("SET_USERNAME",i.username),t.$store.commit("SET_USERID",i.id),i.is_admin?t.$router.replace("/transaction"):t.$router.replace("/pos")}})).catch((function(){t.snackbar=!0,t.snackbarMsg="Username or password is not correct!",t.snackbarColor="red"}))}}},pe=he,ge=(a("682d"),a("2db4")),be=Object(u["a"])(pe,ue,me,!1,null,"7b47360b",null),_e=be.exports;v()(be,{VBtn:f["a"],VCard:h["a"],VCardText:p["b"],VCol:z["a"],VContainer:H["a"],VForm:rt["a"],VImg:dt["a"],VRow:b["a"],VSnackbar:ge["a"],VSpacer:_["a"],VTextField:j["a"]});var Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"grey lighten-5"},[a("v-row",[a("div",{staticClass:"page-container"},[t._v(" Page "),a("span",{staticClass:"page"}),t._v(" of "),a("span",{staticClass:"pages"})]),a("div",{staticClass:"logo-container"},[a("img",{staticStyle:{height:"18px"},attrs:{src:"https://app.useanvil.com/img/email-logo-black.png"}})]),a("table",{staticClass:"invoice-info-container"},[a("tr",[a("td",{staticClass:"client-name",attrs:{rowspan:"2"}},[t._v("Client Name")]),a("td",[t._v("Anvil Co")])]),a("tr",[a("td",[t._v("123 Main Street")])]),a("tr",[a("td",[t._v("Invoice Date: "),a("strong",[t._v("May 24th, 2024")])]),a("td",[t._v("San Francisco CA, 94103")])]),a("tr",[a("td",[t._v("Invoice No: "),a("strong",[t._v("12345")])]),a("td",[t._v("hello@useanvil.com")])])]),a("table",{staticClass:"line-items-container"},[a("thead",[a("tr",[a("th",{staticClass:"heading-quantity"},[t._v("Qty")]),a("th",{staticClass:"heading-description"},[t._v("Description")]),a("th",{staticClass:"heading-price"},[t._v("Price")]),a("th",{staticClass:"heading-subtotal"},[t._v("Subtotal")])])]),a("tbody",t._l(t.orderItems,(function(e){return a("tr",{key:e.name},[a("td",[t._v("2")]),a("td",[t._v(t._s(e.name))]),a("td",{staticClass:"right"},[t._v(t._s(e.price))]),a("td",{staticClass:"bold"},[t._v("$"+t._s(e.price*e.quantity))])])})),0)]),a("table",{staticClass:"line-items-container has-bottom-border"},[a("thead",[a("tr",[a("th",[t._v("Payment Info")]),a("th",[t._v("Due By")]),a("th",[t._v("Total Due")])])]),a("tbody",[a("tr",[a("td",{staticClass:"payment-info"},[a("div",[t._v("Account No: "),a("strong",[t._v("123567744")])]),a("div",[t._v("Routing No: "),a("strong",[t._v("120000547")])])]),a("td",{staticClass:"large"},[t._v("May 30th, 2024")]),a("td",{staticClass:"large total"},[t._v("$105.00")])])])]),a("div",{staticClass:"footer"},[a("div",{staticClass:"footer-info"},[a("span",[t._v("hello@useanvil.com")]),t._v(" | "),a("span",[t._v("555 444 6666")]),t._v(" | "),a("span",[t._v("useanvil.com")])]),a("div",{staticClass:"footer-thanks"},[a("img",{attrs:{src:"https://github.com/anvilco/html-pdf-invoice-template/raw/main/img/heart.png",alt:"heart"}}),a("span",[t._v("Thank you!")])])])])],1)},xe=[],ye={data:function(){return{}},computed:Object(n["a"])({},Object(O["e"])("POS",{orderItems:"orderItems"})),mounted:function(){var t=document.getElementById("vue-nav-bar");t.style.display="none",console.log(this.orderItems),console.log("PRINT MOUNDTED")},created:function(){console.log("PRINT CREATE")}},we=ye,ke=(a("0f03"),Object(u["a"])(we,Ce,xe,!1,null,"12b58fbc",null)),Te=ke.exports;v()(ke,{VContainer:H["a"],VRow:b["a"]});var Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",[s("v-col",{attrs:{lg:"8"}},[s("v-card",{staticClass:"d-flex flex-column justify-md-space-between",attrs:{outline:"",height:"100%"}},[s("v-card",{attrs:{color:"primary"}},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",{staticClass:"text-h4"},[t._v("SCSC")]),s("v-spacer"),s("span",{staticClass:"text-h6"},[t._v(t._s(t.user.full_name))]),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("mdi-account ")])],1)],1)],1),s("v-card",{staticClass:"camera"},[s("video",{ref:"video",staticClass:"feed",attrs:{id:"video",autoplay:"true",playsinline:"true"}}),s("canvas",{staticClass:"feed d-none",attrs:{id:"canvas"}})]),s("div",{staticClass:"d-flex justify-lg-space-around pa-6",staticStyle:{background:"#1976d2"}},[s("v-btn",{attrs:{"x-large":"",dark:"",id:"toggle",color:"orange"},on:{click:t.exit}},[s("v-icon",{staticClass:"mx-0",attrs:{dark:"",color:"white"}},[t._v(" mdi-cancel ")]),t._v(" EXIT ")],1),s("v-btn",{attrs:{"x-large":"",dark:"",color:"green",id:"start",loading:t.debounceBtnCheckout,disabled:!t.canCheckout},on:{click:t.checkout}},[s("v-icon",{staticClass:"mx-0",attrs:{dark:"",color:"white"}},[t._v(" mdi-cash ")]),t._v(" CHECKOUT ")],1)],1)],1)],1),s("v-col",{attrs:{lg:"4"}},[s("v-card",{staticClass:"d-flex flex-column justify-lg-space-between",attrs:{outline:"",height:"100%"}},[s("v-card-title",{staticClass:"white--text",staticStyle:{"background-color":"#1976d2"},attrs:{height:"48px"}},[s("div",{staticClass:"text-h5"},[t._v("Details")])]),s("v-card-text",{staticStyle:{"max-height":"calc(100% - 200px)",height:"calc(100% - 200px)"}},[s("v-simple-table",{staticStyle:{height:"calc(100% - 120px)"},attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Name")]),s("th",{staticClass:"text-left"},[t._v("Price")]),s("th",{staticClass:"text-left"},[t._v("Quantity")]),s("th",{staticClass:"text-left"},[t._v("Total")])])]),s("tbody",t._l(t.orderItems,(function(e){return s("tr",{key:e.name},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.price))]),s("td",[t._v(t._s(e.quantity))]),s("td",[t._v(t._s(e.price*e.quantity))])])})),0)]},proxy:!0}])})],1),s("v-card",{staticClass:"py-8",attrs:{color:"primary"}},[s("v-card-actions",{staticClass:"d-flex-row"},[s("div",{staticClass:"text-h5 d-inline-flex px-5 white--text"},[t._v(" Total Price: ")]),s("div",{staticClass:"text-h5 d-inline-flex px-5 white--text",attrs:{"white--text":""}},[t._v(" "+t._s(t._f("currency")(t.totalPrice))+" ")])]),s("v-card-actions",{staticClass:"d-flex-row"},[s("div",{staticClass:"text-h5 d-inline-flex px-5 white--text"},[t._v("Balance:")]),s("div",{staticClass:"text-h5 d-inline-flex px-5 white--text"},[t._v(" "+t._s(t._f("currency")(t.user.balance))+" ")])])],1)],1)],1),s("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",persistent:""},model:{value:t.scanScreen,callback:function(e){t.scanScreen=e},expression:"scanScreen"}},[s("v-card",{attrs:{color:"primary"}},[s("v-container",{attrs:{id:"login",fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"10"}},[s("div",{staticClass:"rounded-xl"},[s("v-card-title",{staticClass:"justify-center"},[s("div",{staticClass:"text-center my-10"},[s("div",{staticClass:"text-h2 white--text"},[t._v("SCSC Welcome")])])]),s("v-card-text",[s("v-container",{attrs:{fluid:"","mb-16":""}},[s("v-row",{staticClass:"my-16",attrs:{align:"center"}},[s("v-col",{staticClass:"d-sm-none d-md-block",attrs:{cols:"7"}},[s("v-img",{attrs:{src:a("be84")}})],1),s("v-col",{attrs:{cols:"5"}},[s("div",{staticClass:"d-flex",attrs:{id:"qr_code",tile:""}},[s("QrcodeStream",{directives:[{name:"show",rawName:"v-show",value:!t.loadingQR,expression:"!loadingQR"}],attrs:{camera:t.camera},on:{decode:t.onDecode,init:t.onInit}},[s("div",{attrs:{id:"qr_placeholder"}},[s("img",{attrs:{src:a("507e")}})])]),t.loadingQR?s("v-progress-circular",{staticStyle:{margin:"auto"},attrs:{size:70,width:7,color:"white",indeterminate:""}}):t._e()],1)])],1)],1)],1)],1)])],1)],1)],1)],1)],1)},Ie=[],Oe=a("1da1"),De=(a("96cf"),a("4e827"),a("4de4"),a("bb6f")),Ee=null,Ve=null,je={components:{QrcodeStream:De["QrcodeStream"]},data:function(){return{debounceBtnCheckout:!0,canCheckout:!1,toggle:!1,postCheckout:!0,classes:[],scanScreen:!0,camera:"off",loadingQR:!0,orderItems:[],orderItemsConfirm:[],totalPrice:0,user:{id:0,full_name:"",username:"",balance:"",token:""}}},methods:{createPeerConnection:function(){Ee=new RTCPeerConnection;var t=this;return Ee.addEventListener("track",(function(e){"video"==e.track.kind&&(t.$refs.video.srcObject=e.streams[0])})),Ee},negotiate:function(){return Ee.createOffer().then((function(t){return Ee.setLocalDescription(t)})).then((function(){return new Promise((function(t){if("complete"===Ee.iceGatheringState)t();else{var e=function e(){"complete"===Ee.iceGatheringState&&(Ee.removeEventListener("icegatheringstatechange",e),t())};Ee.addEventListener("icegatheringstatechange",e)}}))})).then((function(){var t=Ee.localDescription;return fetch("http://192.168.1.6:8090/offer_cv",{body:JSON.stringify({sdp:t.sdp,type:t.type}),headers:{"Content-Type":"application/json"},method:"POST"})})).then((function(t){return t.json()})).then((function(t){return Ee.setRemoteDescription(t)})).catch((function(t){console.log(t)}))},start:function(){var t=this;Ee=this.createPeerConnection();var e={ordered:!0};Ve=Ee.createDataChannel("chat",e),Ve.onopen=function(){Ve.send("ping")},Ve.onmessage=function(e){var a=JSON.parse(e.data)["classes"].sort();t.classes.length!=a.length&&(t.classes=a),t.classes.some((function(t,e){return t!==a[e]}))&&(t.classes=a)},navigator.mediaDevices.getUserMedia({video:{width:{min:1280,idea:1280},height:{min:720,idea:720},frameRate:6}}).then((function(e){return t.$refs.stream=e,e.getTracks().forEach((function(t){Ee.addTrack(t,e)})),t.negotiate()}),(function(t){alert("Could not acquire media: "+t)}))},stop:function(){Ve&&Ve.close(),Ee.getTransceivers&&Ee.getTransceivers().forEach((function(t){t.stop&&t.stop()})),Ee.getSenders().forEach((function(t){t.track.stop()})),setTimeout((function(){Ee.close()}),500)},stopMedia:function(){var t=this;this.$refs.stream&&(t.toggle=!t.toggle,t.$refs.stream.getTracks().forEach((function(e){e.enabled=t.toggle})))},getUserMedia:function(t){return navigator.mediaDevices.getUserMedia(t)},getListVideoDevices:function(){return this.getListDevices().then((function(t){return t.filter((function(t){return"videoinput"==t.kind})).map((function(t){return t.deviceId}))}))},getListDevices:function(){return navigator.mediaDevices.enumerateDevices()},onDecode:function(t){var e=this;this.camera="off",setTimeout((function(){this.camera="auto"}),1e3);var a=t.split("-");2===a.length&&""!=a[0]&&""!=a[1]?I.post("/api/v1/login/login_qr",{username:a[0],password:a[1]}).then((function(t){t.data?(e.user=t.data,e.scanScreen=!1,Ve.send("True")):e.$store.commit("SET_TOAST",{toastMsg:"Can not regconize user code!",toastColor:"red"})})).catch((function(t){console.log(t)})):this.$store.commit("SET_TOAST",{toastMsg:"Can not regconize user!",toastColor:"red"})},onInit:function(t){var e=this;return Object(Oe["a"])(regeneratorRuntime.mark((function a(){var s,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loadingQR=!0,a.prev=1,a.next=4,t;case 4:s=a.sent,i=s.capabilities,e.loadingQR=!1,e.camera="auto",console.log(i),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()},qrLogin:function(t){return I.post("/api/v1/users/qr_login",t)},fetchItems:function(t){var e=this,a=this;I.post("/api/v1/items/fetch/",t).then((function(t){t&&(e.orderItems=t.data,e.totalPrice=t.data.reduce((function(t,e){return t+e.price*e.quantity}),0),e.canCheckout=e.user.balance>=e.totalPrice&&e.items!=[],e.user.balance<e.totalPrice&&e.$swal.fire({title:"Balance not enough to checkout!",icon:"warning",showConfirmButton:!1}))})).catch((function(t){console.log(t)})).finally((function(){setTimeout((function(){a.debounceBtnCheckout=!1}),2e3)}))},checkout:function(){var t=this;if(this.classes!=[]){var e=Object.assign(this.orderItems),a={code:(new Date).getTime(),user_id:this.user.id,total:this.totalPrice,order_items:[{item_id:0,price:0,quantity:0,item_name:"string"}]};a.order_items=e.map((function(t){return{item_id:t.id,price:t.price,quantity:t.quantity,item_name:t.name}})),I.post("/api/v1/orders/",a,{headers:{"x-token":this.user.token}}).then((function(e){200==e.status&&t.cleanCheckout()})).catch((function(t){console.log(t)}))}},exit:function(){var t=this;I.post("/api/v1/login/logout_qr",{username:this.user.username},{headers:{"x-token":this.user.token}}).finally((function(){t.scanScreen=!0,t.orderItems=[],t.classes=[],t.user={id:0,full_name:"",username:"",balance:""},Ve.send("False")}))},cleanCheckout:function(){var t=this;this.$swal.fire({title:"Checkout successed!",icon:"success",showConfirmButton:!1,timer:1e3}).then((function(e){e.dismiss===t.$swal.DismissReason.timer&&t.exit()}))}},created:function(){this.start()},watch:{classes:U.a.debounce((function(t){this.debounceBtnCheckout=!0,this.fetchItems(t)}),500)},filters:{currency:function(t){return t.toLocaleString()}}},Pe=je,$e=(a("60c3"),a("490a")),Re=a("1f4f"),Ae=Object(u["a"])(Pe,Se,Ie,!1,null,"6136c4cc",null),Me=Ae.exports;v()(Ae,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDialog:g["a"],VIcon:V["a"],VImg:dt["a"],VLayout:Ct["a"],VProgressCircular:$e["a"],VRow:b["a"],VSimpleTable:Re["a"],VSpacer:_["a"],VToolbar:P["a"],VToolbarTitle:$["b"]});var Ne="SHOW_GLOBAL_DIALOG",Le="TOGGLE_SCAN_DIALOG",Ue={name:"App",components:{Dialog:x,ScanDialog:A,User:wt,POS:de,Login:_e,ItemBoard:J,UserProfile:ft,PrintInvoice:Te,Checkout:Me},data:function(){return{isLogined:!0}},methods:Object(n["a"])({showDialog:function(t){this.$store.commit(Ne,t)},showScanDialog:function(){this.$store.commit(Le)},initialize:function(){},logout:function(){console.log("logout"),localStorage.removeItem("token"),this.$store.commit("SET_LOGIN_TOKEN",""),this.$store.commit("SET_AUTH_STATUS",!1),this.$router.push("/login")},toggleScanningMode:function(){this.$store.commit("TOGGLE_SCAN_MODE")}},Object(O["d"])("POS",{setOrderCode:"SET_ORDER_CODE"})),beforeCreate:function(){var t=localStorage.getItem("token");t&&(this.$store.commit("INITIALIZE_STORE"),I.defaults.headers.common["Authorization"]=this.$store.state.token)},mounted:function(){this.setOrderCode()}},qe=Ue,Be=(a("747c"),a("7496")),Fe=a("40dc"),Ge=a("8860"),ze=a("f6c4"),He=a("e449"),Ye=a("f774"),We=Object(u["a"])(qe,i,r,!1,null,"98e51262",null),Qe=We.exports;v()(We,{VApp:Be["a"],VAppBar:Fe["a"],VBtn:f["a"],VContainer:H["a"],VIcon:V["a"],VList:Ge["a"],VListItem:W["a"],VListItemTitle:Q["c"],VMain:ze["a"],VMenu:He["a"],VNavigationDrawer:Ye["a"],VSnackbar:ge["a"],VSpacer:_["a"],VToolbarItems:$["a"],VToolbarTitle:$["b"]});var Ke=a("8c4f"),Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{staticClass:"mt-12",attrs:{cols:"10"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"sort-by":"name",width:"90%",search:t.search},scopedSlots:t._u([{key:"item.description",fn:function(t){var e=t.item;return[a("v-img",{attrs:{src:null!=e.image_url?e.image_url:"https://storage.googleapis.com/scscbakery.appspot.com/no-image.png","max-height":"50px","max-width":"50px"}})]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"text-h4"},[t._v("Items")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" New ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Name*",rules:[t.required("Name")]},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Price*",type:"Number",min:"0",step:"1000",rules:[t.required("Price"),t.minNumberValue(1e3)]},model:{value:t.editedItem.price,callback:function(e){t.$set(t.editedItem,"price",e)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-chip-group",{attrs:{column:"",multiple:"","active-class":"primary--text"},model:{value:t.editedItem.categories,callback:function(e){t.$set(t.editedItem,"categories",e)},expression:"editedItem.categories"}},t._l(t.categories_all,(function(e){return a("v-chip",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-file-input",{attrs:{accept:"image/png",label:"Image"},on:{change:t.onFileSelected}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-img",{attrs:{src:t.editedItem.image_url}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",disabled:!t.valid},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Warning! ")]),a("v-card-text",[t._v("You want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.deleteItemConfirm}},[t._v(" OK ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.load}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)],1)},Je=[],Ze=(a("a4d3"),a("e01a"),{data:function(){return{valid:!0,dialog:!1,password:"",search:"",dialogDelete:!1,selectedFile:null,categories_all:[],categories_range:[],headers:[{text:"Name",align:"start",value:"name"},{text:"Image",value:"description",sortable:!1},{text:"Price",value:"price"},{text:"Action",value:"actions",sortable:!1}],items:[],editedIndex:-1,editedItem:{name:"",description:"",price:0,expired_date:"",image_url:null,quantity:0,categories:[],id:0,is_active:!1},defaultItem:{full_name:"",username:"",role:""},categorySelected:!1,required:function(t){return function(e){return e&&e.toString().length>0||"".concat(t," is required.")}},noSpace:function(){return function(t){return(t||"").indexOf(" ")<0||"No spaces are allowed"}},minNumberValue:function(t){return function(e){return e&&e>=t||"Must be greater than ".concat(t)}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},mounted:function(){this.load()},methods:{load:function(){var t=this;I.get("api/v1/items/all?skip=0&limit=100").then((function(e){t.items=e.data})).catch((function(t){console.log(t)})),I.get("/api/v1/categories").then((function(e){t.categories_all=e.data.map((function(t){return{name:t.name,id:t.id}}))}))},onFileSelected:function(t){var e=this;if(this.selectedFile=t,t){var a=new FileReader;a.addEventListener("load",(function(){e.editedItem.image_url=a.result})),a.readAsDataURL(t)}},editItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0,this.password=""},deleteItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;I.delete("/api/v1/items/".concat(this.editedItem.id)).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Item deleted!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)})),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.$refs.form.validate()){var e={name:this.editedItem.name,description:this.editedItem.description,price:this.editedItem.price,quantity:this.editedItem.quantity,categories:this.editedItem.categories};if(this.editedIndex>-1){var a=new FormData;e.id=this.editedItem.id;var s=JSON.stringify(e);a.append("data",s),this.selectedFile&&a.append("image",this.selectedFile,this.selectedFile.name),I.put("/api/v1/items/update",a).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Item updated!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)}))}else{var i=new FormData,r=JSON.stringify(e);i.append("data",r),this.selectedFile&&i.append("image",this.selectedFile,this.selectedFile.name),I.post("/api/v1/items/create",i).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Item added!",toastColor:"green"}),t.load())}))}this.close()}},filterUser:function(t,e,a){return console.log(a),null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().indexOf(e)}}}),ta=Ze,ea=a("23a7"),aa=Object(u["a"])(ta,Xe,Je,!1,null,null,null),sa=aa.exports;v()(aa,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:F["a"],VChipGroup:G["a"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VDialog:g["a"],VDivider:Y["a"],VFileInput:ea["a"],VForm:rt["a"],VIcon:V["a"],VImg:dt["a"],VLayout:Ct["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"],VToolbarTitle:$["b"]});var ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-col",{attrs:{cols:"8",md:"8"}},[a("v-card",{attrs:{outlined:"",height:"100%"}},[a("v-container",{staticClass:"mt-5",attrs:{flat:""}},[a("v-row",[a("span",{staticClass:"text-h4 ml-3"},[t._v(" Sales Report ")]),a("v-spacer"),a("v-md-date-range-picker",{staticClass:"my-2",attrs:{opens:"right"},on:{change:t.pickDateRange}})],1)],1),a("v-container",{staticClass:"mt-5",attrs:{fluid:"",width:"100%"}},[a("v-row",{staticClass:"justify-center"},[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-card",{attrs:{color:"cyan darken-1",elevation:s?16:2}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h5 md-1 white--text"},[t._v(" $"+t._s(t._f("currency")(t.revenue))+" ")]),a("v-list-item-subtitle",{staticClass:"white--text"},[t._v(" Revenue ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"text-h1 text-center white--text ml-n15",attrs:{size:"100"}},[a("v-icon",{attrs:{color:"cyan lighten-5",size:"100"}},[t._v("mdi-currency-cny")])],1)])],1)],1)]}}])})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-card",{attrs:{color:"pink darken-1",elevation:s?16:2}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h4 mb-1 white--text"},[t._v(" "+t._s(t.orders.length)+" ")]),a("v-list-item-subtitle",{staticClass:"white--text"},[t._v(" Orders ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"text-h1 text-center white--text ml-n15",attrs:{size:"100"}},[a("v-icon",{attrs:{color:"pink lighten-5",size:"100"}},[t._v("mdi-receipt")])],1)])],1)],1)]}}])})],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-hover",{attrs:{"open-delay":"200"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.hover;return[a("v-card",{attrs:{color:"orange darken-1",elevation:s?16:2}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h4 mb-1 white--text"},[t._v(" "+t._s(t.totalItemSold)+" ")]),a("v-list-item-subtitle",{staticClass:"white--text"},[t._v(" Item sold ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"text-h1 text-center white--text ml-n15",attrs:{size:"100"}},[a("v-icon",{attrs:{color:"orange lighten-3",size:"100"}},[t._v("mdi-chart-line")])],1)])],1)],1)]}}])})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{attrs:{elevation:"2"}},[a("v-card-title",[t._v(" Orders "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.orderHeaders,items:t.orders,search:t.search},on:{"click:row":t.handleClick},scopedSlots:t._u([{key:"item.created_date",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(t._f("toMoment")(s.created_date)))])]}},{key:"item.paid",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(t._f("currency")(s.paid)))])]}}],null,!0)})],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4",md:"4"}},[a("v-card",{attrs:{outlined:"",height:"100%"}},[a("v-container",{attrs:{flat:""}},[a("v-card",[a("v-container",{attrs:{flat:""}},[a("v-row",[a("span",{staticClass:"ma-3 text-h5"},[t._v(" Order Detail ")])]),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Customer",readonly:"",dense:"","hide-details":"",value:t.cashier}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Date",readonly:"",dense:"","hide-details":"",value:t._f("toMoment")(t.date)}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Subtotal",readonly:"",outlined:"",dense:"","hide-details":"",value:t._f("currency")(t.subtotal)}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Discount",readonly:"",outlined:"",dense:"","hide-details":"",value:t._f("currency")(t.discount)}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Total",outlined:"",dense:"","hide-details":"",color:"green",value:t._f("currency")(t.subtotal),"background-color":"green lighten-5"}})],1)],1)],1)],1)],1),a("v-container",[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-sheet",{attrs:{elevation:"2"}},[a("v-data-table",{attrs:{headers:t.orderItemHeaders,items:t.orderItems},scopedSlots:t._u([{key:"item.created_date",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(t._f("toMoment")(s.created_date)))])]}},{key:"item.total",fn:function(e){var s=e.item;return[a("span",[t._v(t._s(t._f("currency")(s.price*s.quantity)))])]}}],null,!0)})],1)],1)],1)],1)],1)],1)],1)},ra=[],na={data:function(){return{dateRange:[],search:"",cashier:"",date:"",subtotal:"",total:"",paid:"",change:"",discount:"",orderHeaders:[{text:"Code",align:"start",sortable:!0,value:"code"},{text:"Date",value:"created_date"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Customer",value:"user.username"}],orderItemHeaders:[{text:"Name",value:"item_name"},{text:"Quantity",value:"quantity"},{text:"Price",value:"price"},{text:"Total",value:"total"}],orders:[{customer_id:null,code:0,user_id:1,status:!0,tax:0,subtotal:165e3,paid:5e5,change:499877,order_items:[]}],orderItems:[]}},created:function(){this.init(),console.log(Rt()("2021-06-27T03:32:14.693000").format("MMMM Do YYYY, h:mm:ss a"))},methods:{init:function(){this.pickDateRange([Rt()().startOf("day"),Rt()()])},handleClick:function(t){this.orderItems=t.order_items,this.cashier=t.user.username,this.date=t.created_date,this.total=t.subtotal,this.discount=t.discount,this.subtotal=t.total,this.paid=t.paid,this.change=t.change},pickDateRange:function(t){var e=this,a=t[0].add(-(new Date).getTimezoneOffset()/60,"hour").toISOString(),s=t[1].endOf("day").add(-(new Date).getTimezoneOffset()/60,"hour").toISOString();console.log(a,s),I.get("/api/v1/orders/filter?startDate=".concat(a,"&endDate=").concat(s)).then((function(t){e.orders=t.data}))}},computed:{revenue:function(){return this.orders.reduce((function(t,e){return t+e.total}),0)},totalItemSold:function(){return this.orders.reduce((function(t,e){return t+e.order_items.reduce((function(t,e){return t+e.quantity}),0)}),0)}},filters:{toMoment:function(t){return Rt()(t).add(-(new Date).getTimezoneOffset()/60,"hour").format("MM/DD/YYYY, h:mm a")},currency:function(t){return t&&t.toLocaleString()||0}}},oa=na,ca=a("ce87"),la=Object(u["a"])(oa,ia,ra,!1,null,null,null),da=la.exports;v()(la,{VCard:h["a"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VHover:ca["a"],VIcon:V["a"],VLayout:Ct["a"],VListItem:W["a"],VListItemContent:Q["a"],VListItemSubtitle:Q["b"],VListItemTitle:Q["c"],VRow:b["a"],VSheet:K["a"],VSpacer:_["a"],VTextField:j["a"]});var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-row",{staticClass:"mt-12",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categories,"sort-by":"name",width:"90%",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"text-h4"},[t._v("Categories")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" New ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Name*",rules:[t.required("Name")]},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Description"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",disabled:!t.valid},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Warning! ")]),a("v-card-text",[t._v("You want to delete this category?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.deleteItemConfirm}},[t._v(" OK ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.load}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)],1)},ma=[],va={data:function(){return{valid:!0,dialog:!1,search:"",dialogDelete:!1,headers:[{text:"Name",align:"start",value:"name"},{text:"Description",value:"description"},{text:"Action",value:"actions",sortable:!1}],categories:[],editedIndex:-1,editedItem:{name:"",description:""},defaultItem:{full_name:"",username:"",role:""},categorySelected:!1,required:function(t){return function(e){return e&&e.toString().length>0||"".concat(t," is required.")}},noSpace:function(){return function(t){return(t||"").indexOf(" ")<0||"No spaces are allowed"}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Category":"Edit Category"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},mounted:function(){this.load()},methods:{load:function(){var t=this;I.get("api/v1/categories/").then((function(e){t.categories=e.data})).catch((function(t){console.log(t)}))},onFileSelected:function(t){this.selectedFile=t},editItem:function(t){this.editedIndex=this.categories.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0,this.password=""},deleteItem:function(t){this.editedIndex=this.categories.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;I.delete("/api/v1/categories/".concat(this.editedItem.id)).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Category deleted!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)})),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.$refs.form.validate()){var e={name:this.editedItem.name,description:this.editedItem.description};this.editedIndex>-1?(e.id=this.editedItem.id,I.put("/api/v1/categories/",e).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Category updated!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)}))):I.post("/api/v1/categories/",e).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Category added!",toastColor:"green"}),t.load())})),this.close()}},filterUser:function(t,e,a){return console.log(a),null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().indexOf(e)}}},fa=va,ha=Object(u["a"])(fa,ua,ma,!1,null,null,null),pa=ha.exports;v()(ha,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VIcon:V["a"],VLayout:Ct["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"],VToolbarTitle:$["b"]});var ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"grey lighten-5"},t._l(t.justify,(function(e){return a("v-row",{key:e,attrs:{justify:e}},t._l(2,(function(e){return a("v-col",{key:e,attrs:{md:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[t._v(" One of two columns ")])],1)})),1)})),1)},ba=[],_a={data:function(){return{justify:["start","center","end","space-around","space-between"]}}},Ca=_a,xa=Object(u["a"])(Ca,ga,ba,!1,null,null,null),ya=xa.exports;v()(xa,{VCard:h["a"],VCol:z["a"],VContainer:H["a"],VRow:b["a"]});var wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"10"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.customers,"sort-by":"calories",width:"90%",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"text-h4"},[t._v(" Customer")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" New ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Contact*",rules:[t.required("Username"),t.isPhone()]},model:{value:t.editedItem.contact,callback:function(e){t.$set(t.editedItem,"contact",e)},expression:"editedItem.contact"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{label:"Address"},model:{value:t.editedItem.address,callback:function(e){t.$set(t.editedItem,"address",e)},expression:"editedItem.address"}})],1)],1)],1)],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",disabled:!t.valid},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v(" Warning! ")]),a("v-card-text",[t._v("You want to delete this customer?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.closeDelete}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"white--text",attrs:{color:"red darken-1"},on:{click:t.deleteItemConfirm}},[t._v(" OK ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.load}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})],1)],1)],1)},ka=[],Ta={data:function(){return{valid:!0,dialog:!1,search:"",dialogDelete:!1,headers:[{text:"Contact",value:"contact"},{text:"Customer Name",align:"start",value:"name"},{text:"address",value:"address"},{text:"Action",value:"actions",sortable:!1}],customers:[],editedIndex:-1,editedItem:{name:"",contact:"",address:""},defaultItem:{name:"",contact:"",address:""},roleSelected:!1,required:function(t){return function(e){return e&&e.length>0||"".concat(t," is required.")}},noSpace:function(){return function(t){return(t||"").indexOf(" ")<0||"No spaces are allowed"}},isPhone:function(){var t=/(0[3|5|7|8|9])+([0-9]{8})\b/;return function(e){return e&&t.test(e)||"Not a valid phone number."}}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Customer":"Edit Customer"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},mounted:function(){this.load()},methods:{load:function(){var t=this;I.get("api/v1/customers").then((function(e){t.customers=e.data})).catch((function(t){console.log(t)}))},editItem:function(t){this.editedIndex=this.customers.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.customers.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;I.delete("api/v1/customers/".concat(this.editedItem.id)).then((function(e){200==e.status&&(t.$store.commit("SET_TOAST",{toastMsg:"Customer deleted!",toastColor:"green"}),t.load())})).catch((function(t){console.log(t)})),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$refs.form.reset(),this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.$refs.form.validate()){var e={contact:this.editedItem.contact,name:this.editedItem.name,address:this.editedItem.address};this.editedIndex>-1?(e.id=this.editedItem.id,I.put("/api/v1/customers/",e).then((function(){t.load(),t.$store.commit("SET_TOAST",{toastMsg:"Customer updated!",toastColor:"green"})})).catch((function(t){console.log(t)}))):I.post("/api/v1/customers/",e).then((function(){t.load(),t.$store.commit("SET_TOAST",{toastMsg:"Customer added!",toastColor:"green"})})).catch((function(t){console.log(t)})),this.close()}},filterUser:function(t,e,a){return console.log(a),null!=t&&null!=e&&"string"===typeof t&&-1!==t.toString().indexOf(e)}}},Sa=Ta,Ia=Object(u["a"])(Sa,wa,ka,!1,null,null,null),Oa=Ia.exports;v()(Ia,{VBtn:f["a"],VCard:h["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:z["a"],VContainer:H["a"],VDataTable:_t["a"],VDialog:g["a"],VDivider:Y["a"],VForm:rt["a"],VIcon:V["a"],VLayout:Ct["a"],VRow:b["a"],VSpacer:_["a"],VTextField:j["a"],VToolbar:P["a"],VToolbarTitle:$["b"]}),s["a"].use(Ke["a"]);var Da=[{path:"/",name:"checkout",component:Me},{path:"/login",name:"Login",component:_e},{path:"/customers",name:"User",component:wt,meta:{requireLogin:!0}},{path:"/inventory",name:"Inventory",component:sa,meta:{requireLogin:!0}},{path:"/transaction",name:"Transaction",component:da,meta:{requireLogin:!0}},{path:"/category",name:"Category",component:pa,meta:{requireLogin:!0}},{path:"/customer",name:"Customer",component:Oa,meta:{requireLogin:!0}},{path:"/test",name:"Test",component:ya},{path:"/about",name:"About"},{path:"/printInvoice",name:"InvoicePrint",component:Te}],Ea=new Ke["a"]({mode:"hash",base:"/scsc/",routes:Da});Ea.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requireLogin}))&&!localStorage.getItem("token")?a("/login"):a()}));var Va,ja=Ea,Pa=a("ade3"),$a=a("2909"),Ra=(a("c740"),function(){return{orderItems:[],customer_checkout:null,totalItem:0,totalPay:0,discount:{threshold:0,type:0,value:0},checkoutStatus:null,showBillDialog:!1,customers:[{text:"Walk-in customer",value:0}],customerValue:0,tabs:[{orderItem:[],customer:null}],listOnHold:[{value:1,text:"Order 1"}],currentTab:1,currentOrderCode:""}}),Aa={totalOrderItem:function(t){return t.orderItems.reduce((function(t,e){return t+e.quantity}),0)},totalPrice:function(t){return t.orderItems.reduce((function(t,e){return t+e.quantity*e.price}),0)},discount:function(t){return t.discount},getCustomerCheckout:function(t){return t.customers.filter((function(e){return e.value==t.customerValue}))[0]}},Ma={checkout:function(t,e){var a=t.commit,s=t.state,i=t.getters,r=t.rootState,n={code:s.currentOrderCode,user_id:r.userid,status:!0,tax:0,subtotal:i.totalPrice-e.discountValue,total:i.totalPrice,discount:e.discountValue,paid:e.amount,change:e.change,order_items:[{item_id:0,price:0,quantity:0,item_name:"string"}]};s.customerValue>0&&(n.customer_id=s.customerValue),n.order_items=s.orderItems.map((function(t){return{item_id:t.id,price:t.price,quantity:t.quantity,item_name:t.name}})),I.post("/api/v1/orders/",n).then((function(){a("CLEAR_ORDER_ITEM"),a("SET_PAYDIALOG",!1,{root:!0}),a("SET_TOAST",{toastMsg:"Checkout successfully",toastColor:"success"},{root:!0}),a("SET_ORDER_CODE")})).catch((function(t){console.log(t),a("SET_CHECKOUT_STATUS",!1)})).finally((function(){a("SET_SELECTED_CUSTOMER",0)}))},getCustomer:function(t){var e=t.commit;I.get("/api/v1/customers").then((function(t){if(t.data){var a=t.data.map((function(t){return{text:"".concat(t.name," - ").concat(t.contact),value:t.id}}));e("SET_CUSTOMERS",a)}}))},calculateDiscount:function(t){var e=t.getters,a=t.commit;I.get("/api/v1/discounts/calculate/".concat(e.totalPrice)).then((function(t){a("SET_DISCOUNT",t.data)}))},updateCurrentTab:function(t,e){var a=t.commit;a("SET_CURRENT_TAB",e)},changeCustomerValue:function(t,e){var a=t.commit;console.log(e),a("SET_SELECTED_CUSTOMER",e)},addCusomterInPOS:function(t,e){var a=t.commit;I.get("/api/v1/customers").then((function(t){if(t.data){var s=t.data.map((function(t){return{text:"".concat(t.name," - ").concat(t.contact),value:t.id}}));a("SET_CUSTOMERS",s),a("SET_SELECTED_CUSTOMER",e)}}))}},Na={ADD_ITEM_TO_ORDER:function(t,e){var a=t.orderItems.findIndex((function(t){return t.id==e.id}));if(a>-1)t.orderItems[a].quantity++;else{var s={id:e.id,rownumber:t.orderItems.length+1,name:e.name,quantity:1,price:e.price};t.orderItems.push(s)}},SET_CHECKOUT_STATUS:function(t,e){t.checkoutStatus=e},SET_ORDER_CODE:function(t){console.log("SET_ORDER_CODE"),t.currentOrderCode=(new Date).getTime()},INCREASE_ITEM_QUANTITY:function(t,e){var a=t.orderItems.find((function(t){return t.id==e}));a&&a.quantity++},DECREASE_ITEM_QUANTITY:function(t,e){var a=t.orderItems.find((function(t){return t.id==e}));null!=a&&void 0!=a&&(a.quantity>1?a.quantity--:t.orderItems=t.orderItems.filter((function(t){return t.id!=e})))},CLEAR_ORDER_ITEM:function(t){t.orderItems=[]},SET_BILL_DIALOG:function(t,e){t.showBillDialog=e},SET_CURRENT_TAB:function(t,e){t.currentTab=e},CLEAR_CHECKOUT_DATA:function(t){t.orderItems=[]},DELETE_ITEM_ORDER:function(t,e){t.orderItems=t.orderItems.filter((function(t){return t.id!=e}))},SET_CUSTOMERS:function(t,e){var a;(a=t.customers).push.apply(a,Object($a["a"])(e)),console.log(t.customers)},SET_DISCOUNT:function(t,e){t.discount=e},UPDATE_ITEM_QUANTITY:function(t,e){console.log("UPDATE_ITEM_QUANTITY",e),t.orderItems.find((function(t){return t.id==e.itemId})).quantity=parseInt(e.quantity)},SET_SELECTED_CUSTOMER:function(t,e){t.customerValue=e},REMOVE_ON_HOLD:function(t,e){1!=t.listOnHold.length&&(t.listOnHold=t.listOnHold.reduce((function(t,a){return a.value!=e&&t.push(a),t}),[]))},ADD_ON_HOLD:function(t){var e=t.listOnHold.length;if(20!=e){var a=t.listOnHold.reduce((function(t,e){if(e.value>t)return t=e.value,t}),0);t.listOnHold.push({value:a+1,text:"Order ".concat(a+1)}),t.currentTab=a+1}},BLUR_CUSTOMER:function(t){null==t.customerValue&&(t.customerValue=t.customers[0])}},La={namespaced:!0,state:Ra,getters:Aa,actions:Ma,mutations:Na};s["a"].use(O["a"]);var Ua=new O["a"].Store({state:{dialog:!1,scanDialog:!1,dialogViewName:"User",isAuthenticated:!1,payDialog:!1,token:"",isAdmin:!1,username:null,userid:0,scanMode:!0,itemDialog:!1,addCustomerDialog:!1,capturedResponse:{items:[],positions:[]},capturedItemPicked:null,capturedItemPickedIndex:null,isDrawing:!1,userProfile:!1,changePassword:!1,toast:!1,toastMsg:"",toastColor:"",positions_updated:!1},mutations:(Va={},Object(Pa["a"])(Va,Ne,(function(t,e){t.dialog=!t.dialog,t.dialogViewName=e})),Object(Pa["a"])(Va,Le,(function(t){t.scanDialog=!t.scanDialog})),Object(Pa["a"])(Va,"SET_LOGIN_TOKEN",(function(t,e){t.token=e})),Object(Pa["a"])(Va,"SET_AUTH_STATUS",(function(t,e){t.isAuthenticated=e})),Object(Pa["a"])(Va,"SET_ROLE",(function(t,e){t.isAdmin=e})),Object(Pa["a"])(Va,"SET_USERNAME",(function(t,e){t.username=e})),Object(Pa["a"])(Va,"SET_USERID",(function(t,e){t.userid=e})),Object(Pa["a"])(Va,"SET_PAYDIALOG",(function(t,e){t.payDialog=e})),Object(Pa["a"])(Va,"SET_ITEM_DIALOG",(function(t,e){t.itemDialog=e})),Object(Pa["a"])(Va,"INITIALIZE_STORE",(function(t){var e=localStorage.getItem("token");t.token=null!=e?e:"",t.isAuthenticated=null!=e;var a=fe(e),s=JSON.parse(a.sub);t.isAdmin=s.is_admin,t.username=s.username,t.userid=s.id})),Object(Pa["a"])(Va,"TOGGLE_SCAN_MODE",(function(t){t.scanMode=!t.scanMode})),Object(Pa["a"])(Va,"SET_SCAN_MODE",(function(t,e){t.scanMode=e})),Object(Pa["a"])(Va,"SET_CAPTURED_RESPONSE",(function(t,e){t.capturedResponse=e})),Object(Pa["a"])(Va,"SET_ADD_CUSTOMER",(function(t,e){t.addCustomerDialog=null===e?!t.addCustomerDialog:e})),Object(Pa["a"])(Va,"REMOVE_CAPTURED_ITEM",(function(t,e){console.log("REMOVE_CAPTURED_ITEM"),t.capturedResponse&&t.capturedResponse.positions&&(t.capturedResponse.positions[e]=null,console.log(t.capturedResponse.positions),t.positions_updated=!0)})),Object(Pa["a"])(Va,"SET_CAPTURED_ITEM_PICK",(function(t,e){null!==t.capturedResponse.items&&(t.capturedItemPicked=t.capturedResponse.items.find((function(t){return t.id==e.id}))),t.capturedItemPickedIndex=e.index,null==t.capturedItemPicked&&(t.capturedResponse.positions.push([-1].concat(Object($a["a"])(e.positions),[0])),t.capturedItemPickedIndex=t.capturedResponse.positions.length-1,t.positions_updated=!0),t.updateBox=e.update,console.log(t.updateBox)})),Object(Pa["a"])(Va,"CHANGE_CAPTURED_ITEM_PICK",(function(t,e){console.log(t.capturedResponse.positions[t.capturedItemPickedIndex][0],e.id),t.capturedResponse.positions[t.capturedItemPickedIndex][0]=e.id,null!=t.capturedResponse.items&&null!=t.capturedResponse.items.find((function(t){return t.id==e.id}))||t.capturedResponse.items.push(e),t.updateBox(e.name,e.price,t.capturedItemPickedIndex,e.id),t.capturedItemPicked=null,t.positions_updated=!0,console.log(t.capturedResponse.positions)})),Object(Pa["a"])(Va,"SET_DRAWING",(function(t,e){t.isDrawing=null==e?!t.isDrawing:e})),Object(Pa["a"])(Va,"SET_USER_PROFILE",(function(t,e){null!=e&&(t.userProfile=e),t.userProfile=!t.userProfile})),Object(Pa["a"])(Va,"SET_CHANGE_PASSWORD",(function(t,e){if(null!=e)return t.changePassword=e,void console.log(t.changePassword);t.changePassword=!t.changePassword})),Object(Pa["a"])(Va,"SET_TOAST",(function(t,e){t.toast=!0,t.toastMsg=e.toastMsg,t.toastColor=e.toastColor,console.log(t.toast,"TOAS")})),Object(Pa["a"])(Va,"RESET_POSITION_UPDATED_FLAG",(function(t){t.positions_updated=!1})),Va),actions:{},modules:{POS:La}}),qa=(a("15f5"),a("d1e78"),a("f309"));s["a"].use(qa["a"]);var Ba=new qa["a"]({icons:{iconfont:"md"},theme:{}}),Fa=a("5886"),Ga=a("b27a"),za=a.n(Ga),Ha=a("7898"),Ya=a.n(Ha);a("4413");s["a"].use(za.a),s["a"].config.productionTip=!1,s["a"].use(Fa["a"],{confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"}),s["a"].use(Ya.a),new s["a"]({router:ja,store:Ua,vuetify:Ba,render:function(t){return t(Qe)}}).$mount("#app")},"60c3":function(t,e,a){"use strict";a("6364")},6364:function(t,e,a){},"682d":function(t,e,a){"use strict";a("2cec")},"6bcb":function(t,e,a){},"6df4":function(t,e,a){},"747c":function(t,e,a){"use strict";a("b8ff")},"776a":function(t,e,a){"use strict";a("abde")},"9f6c":function(t,e,a){},a0ea:function(t,e,a){"use strict";a("460a")},a8e7:function(t,e,a){t.exports=a.p+"img/useravatar.9c74d3b1.svg"},abde:function(t,e,a){},b8ff:function(t,e,a){},be84:function(t,e,a){t.exports=a.p+"img/undraw_Hamburger.7efb127a.svg"},ca6d:function(t,e,a){"use strict";a("9f6c")},ce03:function(t,e,a){t.exports=a.p+"img/login.b547562a.svg"},d07a:function(t,e,a){"use strict";a("2e41")}});
//# sourceMappingURL=app.475d1302.js.map